
"use strict";

var _ = require("lodash");
var getNextNonSharedLineCommentNode = require("./getNextNonSharedLineCommentNode");
var getPreviousNonSharedLineCommentNode = require("./getPreviousNonSharedLineCommentNode");

function nodesShareLines(a, b) {
  return _.get(a, "source.start.line") === _.get(b, "source.start.line");
}

module.exports = function isSharedLineComment(node /*: postcss$node*/
) /*: boolean*/{
  if (node.type !== "comment") {
    return false;
  }

  var previousNonSharedLineCommentNode = getPreviousNonSharedLineCommentNode(node);
  if (nodesShareLines(node, previousNonSharedLineCommentNode)) {
    return true;
  }

  var nextNonSharedLineCommentNode = getNextNonSharedLineCommentNode(node);
  if (nodesShareLines(node, nextNonSharedLineCommentNode)) {
    return true;
  }

  var parentNode = node.parent;
  if (parentNode !== undefined && parentNode.type !== "root" && parentNode.source.start.line === node.source.start.line) {
    return true;
  }

  return false;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2plc3VzLy5hdG9tL3BhY2thZ2VzL2xpbnRlci1zdHlsZWxpbnQvbm9kZV9tb2R1bGVzL3N0eWxlbGludC9saWIvdXRpbHMvaXNTaGFyZWRMaW5lQ29tbWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsWUFBWSxDQUFDOztBQUViLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLCtCQUErQixHQUFHLE9BQU8sQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0FBQ3JGLElBQU0sbUNBQW1DLEdBQUcsT0FBTyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7O0FBRTdGLFNBQVMsZUFBZSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDN0IsU0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUM7Q0FDeEU7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLG1CQUFtQixDQUMzQyxJQUFJO2VBQ1U7QUFDZCxNQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO0FBQzNCLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7O0FBRUQsTUFBTSxnQ0FBZ0MsR0FBRyxtQ0FBbUMsQ0FDMUUsSUFBSSxDQUNMLENBQUM7QUFDRixNQUFJLGVBQWUsQ0FBQyxJQUFJLEVBQUUsZ0NBQWdDLENBQUMsRUFBRTtBQUMzRCxXQUFPLElBQUksQ0FBQztHQUNiOztBQUVELE1BQU0sNEJBQTRCLEdBQUcsK0JBQStCLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0UsTUFBSSxlQUFlLENBQUMsSUFBSSxFQUFFLDRCQUE0QixDQUFDLEVBQUU7QUFDdkQsV0FBTyxJQUFJLENBQUM7R0FDYjs7QUFFRCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQy9CLE1BQ0UsVUFBVSxLQUFLLFNBQVMsSUFDeEIsVUFBVSxDQUFDLElBQUksS0FBSyxNQUFNLElBQzFCLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQ3ZEO0FBQ0EsV0FBTyxJQUFJLENBQUM7R0FDYjs7QUFFRCxTQUFPLEtBQUssQ0FBQztDQUNkLENBQUMiLCJmaWxlIjoiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbGludGVyLXN0eWxlbGludC9ub2RlX21vZHVsZXMvc3R5bGVsaW50L2xpYi91dGlscy9pc1NoYXJlZExpbmVDb21tZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbmNvbnN0IGdldE5leHROb25TaGFyZWRMaW5lQ29tbWVudE5vZGUgPSByZXF1aXJlKFwiLi9nZXROZXh0Tm9uU2hhcmVkTGluZUNvbW1lbnROb2RlXCIpO1xuY29uc3QgZ2V0UHJldmlvdXNOb25TaGFyZWRMaW5lQ29tbWVudE5vZGUgPSByZXF1aXJlKFwiLi9nZXRQcmV2aW91c05vblNoYXJlZExpbmVDb21tZW50Tm9kZVwiKTtcblxuZnVuY3Rpb24gbm9kZXNTaGFyZUxpbmVzKGEsIGIpIHtcbiAgcmV0dXJuIF8uZ2V0KGEsIFwic291cmNlLnN0YXJ0LmxpbmVcIikgPT09IF8uZ2V0KGIsIFwic291cmNlLnN0YXJ0LmxpbmVcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNTaGFyZWRMaW5lQ29tbWVudChcbiAgbm9kZSAvKjogcG9zdGNzcyRub2RlKi9cbikgLyo6IGJvb2xlYW4qLyB7XG4gIGlmIChub2RlLnR5cGUgIT09IFwiY29tbWVudFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJldmlvdXNOb25TaGFyZWRMaW5lQ29tbWVudE5vZGUgPSBnZXRQcmV2aW91c05vblNoYXJlZExpbmVDb21tZW50Tm9kZShcbiAgICBub2RlXG4gICk7XG4gIGlmIChub2Rlc1NoYXJlTGluZXMobm9kZSwgcHJldmlvdXNOb25TaGFyZWRMaW5lQ29tbWVudE5vZGUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCBuZXh0Tm9uU2hhcmVkTGluZUNvbW1lbnROb2RlID0gZ2V0TmV4dE5vblNoYXJlZExpbmVDb21tZW50Tm9kZShub2RlKTtcbiAgaWYgKG5vZGVzU2hhcmVMaW5lcyhub2RlLCBuZXh0Tm9uU2hhcmVkTGluZUNvbW1lbnROb2RlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50O1xuICBpZiAoXG4gICAgcGFyZW50Tm9kZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgcGFyZW50Tm9kZS50eXBlICE9PSBcInJvb3RcIiAmJlxuICAgIHBhcmVudE5vZGUuc291cmNlLnN0YXJ0LmxpbmUgPT09IG5vZGUuc291cmNlLnN0YXJ0LmxpbmVcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuIl19