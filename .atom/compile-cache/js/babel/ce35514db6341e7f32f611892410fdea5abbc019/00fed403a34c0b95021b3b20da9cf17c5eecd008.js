function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }

var _path = require('path');

var path = _interopRequireWildcard(_path);

// eslint-disable-next-line no-unused-vars, import/no-extraneous-dependencies

var _jasmineFix = require('jasmine-fix');

'use babel';

var fixtures = path.join(__dirname, 'fixtures');
var configStandardPath = path.join(fixtures, 'bad', 'stylelint-config-standard.css');
var warningPath = path.join(fixtures, 'warn', 'warn.css');
var invalidRulePath = path.join(fixtures, 'invalid-rule', 'styles.css');

var blockNoEmpty = 'Unexpected empty block (block-no-empty)';
var blockNoEmptyUrl = 'http://stylelint.io/user-guide/rules/block-no-empty';

describe('The stylelint provider for Linter', function () {
  var lint = require('../lib/index.js').provideLinter().lint;

  (0, _jasmineFix.beforeEach)(_asyncToGenerator(function* () {
    atom.workspace.destroyActivePaneItem();

    yield atom.packages.activatePackage('language-css');
    yield atom.packages.activatePackage('linter-stylelint');
  }));

  (0, _jasmineFix.it)('bundles and works with stylelint-config-standard', _asyncToGenerator(function* () {
    atom.config.set('linter-stylelint.useStandard', true);
    var editor = yield atom.workspace.open(configStandardPath);
    var messages = yield lint(editor);
    expect(messages.length).toBeGreaterThan(0);

    // test only the first error
    expect(messages[0].severity).toBe('error');
    expect(messages[0].excerpt).toBe(blockNoEmpty);
    expect(messages[0].url).toBe(blockNoEmptyUrl);
    expect(messages[0].location.file).toBe(configStandardPath);
    expect(messages[0].location.position).toEqual([[0, 5], [0, 7]]);
  }));

  (0, _jasmineFix.it)('reports rules set as warnings as a Warning', _asyncToGenerator(function* () {
    var editor = yield atom.workspace.open(warningPath);
    var messages = yield lint(editor);

    expect(messages.length).toBeGreaterThan(0);

    // test only the first error
    expect(messages[0].severity).toBe('warning');
    expect(messages[0].excerpt).toBe(blockNoEmpty);
    expect(messages[0].url).toBe(blockNoEmptyUrl);
    expect(messages[0].location.file).toMatch(/.+warn\.css$/);
    expect(messages[0].location.position).toEqual([[0, 5], [0, 7]]);
  }));

  (0, _jasmineFix.it)('finds nothing wrong with a valid file', _asyncToGenerator(function* () {
    var goodPath = path.join(fixtures, 'good', 'good.css');
    var editor = yield atom.workspace.open(goodPath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(0);
  }));

  (0, _jasmineFix.it)('shows CSS syntax errors with an invalid file', _asyncToGenerator(function* () {
    var invalidPath = path.join(fixtures, 'invalid', 'invalid.css');
    var editor = yield atom.workspace.open(invalidPath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(1);

    expect(messages[0].severity).toBe('error');
    expect(messages[0].excerpt).toBe('Unknown word (CssSyntaxError)');
    expect(messages[0].location.file).toBe(invalidPath);
    expect(messages[0].location.position).toEqual([[0, 0], [0, 3]]);
  }));

  (0, _jasmineFix.it)('shows an error on non-fatal stylelint runtime error', _asyncToGenerator(function* () {
    var text = 'Unexpected option value "foo" for rule "block-no-empty"';
    var editor = yield atom.workspace.open(invalidRulePath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(1);

    expect(messages[0].severity).toBe('error');
    expect(messages[0].excerpt).toBe(text);
    expect(messages[0].location.file).toBe(invalidRulePath);
    expect(messages[0].location.position).toEqual([[0, 0], [0, 6]]);
  }));

  (0, _jasmineFix.it)('shows an error notification for a fatal stylelint runtime error', _asyncToGenerator(function* () {
    var invalidExtendsPath = path.join(fixtures, 'invalid-extends', 'styles.css');

    spyOn(atom.notifications, 'addError').andCallFake(function () {
      return {};
    });
    var addError = atom.notifications.addError;

    var editor = yield atom.workspace.open(invalidExtendsPath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(0);

    var args = addError.mostRecentCall.args;
    expect(addError.calls.length).toBe(1);
    expect(args[0]).toBe('Unable to parse stylelint configuration');
    expect(args[1].detail).toContain('Could not find "some-module-that-will-never-exist".');
    expect(args[1].dismissable).toBe(true);
  }));

  (0, _jasmineFix.it)('shows an error notification with a broken syntax configuration', _asyncToGenerator(function* () {
    var invalidConfigPath = path.join(fixtures, 'invalid-config', 'styles.css');

    spyOn(atom.notifications, 'addError').andCallFake(function () {
      return {};
    });
    var addError = atom.notifications.addError;

    var editor = yield atom.workspace.open(invalidConfigPath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(0);

    var args = addError.mostRecentCall.args;
    expect(addError.calls.length).toBe(1);
    expect(args[0]).toBe('Unable to parse stylelint configuration');
    expect(args[1].detail).toContain('>>>');
    expect(args[1].dismissable).toBe(true);
  }));

  (0, _jasmineFix.it)('disables when no configuration file is found', _asyncToGenerator(function* () {
    spyOn(atom.notifications, 'addError').andCallFake(function () {
      return {};
    });

    var editor = yield atom.workspace.open(configStandardPath);
    var messages = yield lint(editor);
    expect(messages.length).toBe(0);
    expect(atom.notifications.addError.calls.length).toBe(0);
  }));

  describe('ignores files when files are specified in ignoreFiles and', function () {
    var ignorePath = path.join(fixtures, 'ignore-files', 'styles.css');

    (0, _jasmineFix.it)('shows a message when asked to', _asyncToGenerator(function* () {
      atom.config.set('linter-stylelint.showIgnored', true);
      var editor = yield atom.workspace.open(ignorePath);
      var messages = yield lint(editor);
      expect(messages.length).toBe(1);

      expect(messages[0].severity).toBe('warning');
      expect(messages[0].excerpt).toBe('This file is ignored');
      expect(messages[0].location.file).toBe(ignorePath);
      expect(messages[0].location.position).toEqual([[0, 0], [0, 7]]);
    }));

    (0, _jasmineFix.it)("doesn't show a message when not asked to", _asyncToGenerator(function* () {
      atom.config.set('linter-stylelint.showIgnored', false);
      var editor = yield atom.workspace.open(ignorePath);
      var messages = yield lint(editor);
      expect(messages.length).toBe(0);
    }));
  });

  (0, _jasmineFix.it)("doesn't persist settings across runs", _asyncToGenerator(function* () {
    // The config for this folder breaks the block-no-empty rule
    var invalidEditor = yield atom.workspace.open(invalidRulePath);
    yield lint(invalidEditor);

    // While this file uses that rule
    var editor = yield atom.workspace.open(warningPath);
    var messages = yield lint(editor);
    expect(messages.length).toBeGreaterThan(0);

    // test only the first error
    expect(messages[0].severity).toBe('warning');
    expect(messages[0].excerpt).toBe(blockNoEmpty);
    expect(messages[0].url).toBe(blockNoEmptyUrl);
    expect(messages[0].location.file).toBe(warningPath);
    expect(messages[0].location.position).toEqual([[0, 5], [0, 7]]);
  }));

  describe('works with Less files and', function () {
    var lessDir = path.join(fixtures, 'less');
    var goodLess = path.join(lessDir, 'good.less');
    var badLess = path.join(lessDir, 'bad.less');

    (0, _jasmineFix.beforeEach)(_asyncToGenerator(function* () {
      yield atom.packages.activatePackage('language-less');
    }));

    (0, _jasmineFix.it)('shows lint messages when found', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(badLess);
      var messages = yield lint(editor);
      expect(messages.length).toBeGreaterThan(0);

      // test only the first error
      expect(messages[0].severity).toBe('error');
      expect(messages[0].excerpt).toBe(blockNoEmpty);
      expect(messages[0].url).toBe(blockNoEmptyUrl);
      expect(messages[0].location.file).toBe(badLess);
      expect(messages[0].location.position).toEqual([[0, 5], [0, 7]]);
    }));

    (0, _jasmineFix.it)('finds nothing wrong with a valid file', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(goodLess);
      var messages = yield lint(editor);
      expect(messages.length).toBe(0);
    }));
  });

  describe('works with PostCSS files and', function () {
    var goodPostCSS = path.join(fixtures, 'postcss', 'styles.pcss');
    var issuesPostCSS = path.join(fixtures, 'postcss', 'issues.pcss');

    (0, _jasmineFix.beforeEach)(_asyncToGenerator(function* () {
      yield atom.packages.activatePackage('language-postcss');
    }));

    (0, _jasmineFix.it)('shows lint messages when found', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(issuesPostCSS);
      var messages = yield lint(editor);
      expect(messages.length).toBeGreaterThan(0);

      // test only the first error
      expect(messages[0].severity).toBe('error');
      expect(messages[0].excerpt).toBe(blockNoEmpty);
      expect(messages[0].url).toBe(blockNoEmptyUrl);
      expect(messages[0].location.file).toBe(issuesPostCSS);
      expect(messages[0].location.position).toEqual([[0, 5], [0, 7]]);
    }));

    (0, _jasmineFix.it)('finds nothing wrong with a valid file', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(goodPostCSS);
      var messages = yield lint(editor);
      expect(messages.length).toBe(0);
    }));
  });

  describe('works with SugarSS files and', function () {
    var goodSugarSS = path.join(fixtures, 'sugarss', 'good.sss');
    var badSugarSS = path.join(fixtures, 'sugarss', 'bad.sss');

    (0, _jasmineFix.beforeEach)(_asyncToGenerator(function* () {
      yield atom.packages.activatePackage('language-postcss');
    }));

    (0, _jasmineFix.it)('shows lint messages when found', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(badSugarSS);
      var messages = yield lint(editor);

      expect(messages[0].severity).toBe('error');
      expect(messages[0].excerpt).toBe('Expected a leading zero (number-leading-zero)');
      expect(messages[0].url).toBe('http://stylelint.io/user-guide/rules/number-leading-zero');
      expect(messages[0].location.file).toBe(badSugarSS);
      expect(messages[0].location.position).toEqual([[1, 38], [1, 40]]);
    }));

    (0, _jasmineFix.it)('finds nothing wrong with a valid file', _asyncToGenerator(function* () {
      var editor = yield atom.workspace.open(goodSugarSS);
      var messages = yield lint(editor);
      expect(messages.length).toBe(0);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2plc3VzLy5hdG9tL3BhY2thZ2VzL2xpbnRlci1zdHlsZWxpbnQvc3BlYy9saW50ZXItc3R5bGVsaW50LXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztvQkFFc0IsTUFBTTs7SUFBaEIsSUFBSTs7OzswQkFFcUMsYUFBYTs7QUFKbEUsV0FBVyxDQUFDOztBQU1aLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ2xELElBQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLCtCQUErQixDQUFDLENBQUM7QUFDdkYsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzVELElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQzs7QUFFMUUsSUFBTSxZQUFZLEdBQUcseUNBQXlDLENBQUM7QUFDL0QsSUFBTSxlQUFlLEdBQUcscURBQXFELENBQUM7O0FBRTlFLFFBQVEsQ0FBQyxtQ0FBbUMsRUFBRSxZQUFNO0FBQ2xELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQzs7QUFFN0QsZ0RBQVcsYUFBWTtBQUNyQixRQUFJLENBQUMsU0FBUyxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRXZDLFVBQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDcEQsVUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0dBQ3pELEVBQUMsQ0FBQzs7QUFFSCxzQkFBRyxrREFBa0Qsb0JBQUUsYUFBWTtBQUNqRSxRQUFJLENBQUMsTUFBTSxD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QyxZQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNqQyxFQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbGludGVyLXN0eWxlbGludC9zcGVjL2xpbnRlci1zdHlsZWxpbnQtc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzLCBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbmltcG9ydCB7IGl0LCBmaXQsIHdhaXQsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ2phc21pbmUtZml4JztcblxuY29uc3QgZml4dHVyZXMgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnZml4dHVyZXMnKTtcbmNvbnN0IGNvbmZpZ1N0YW5kYXJkUGF0aCA9IHBhdGguam9pbihmaXh0dXJlcywgJ2JhZCcsICdzdHlsZWxpbnQtY29uZmlnLXN0YW5kYXJkLmNzcycpO1xuY29uc3Qgd2FybmluZ1BhdGggPSBwYXRoLmpvaW4oZml4dHVyZXMsICd3YXJuJywgJ3dhcm4uY3NzJyk7XG5jb25zdCBpbnZhbGlkUnVsZVBhdGggPSBwYXRoLmpvaW4oZml4dHVyZXMsICdpbnZhbGlkLXJ1bGUnLCAnc3R5bGVzLmNzcycpO1xuXG5jb25zdCBibG9ja05vRW1wdHkgPSAnVW5leHBlY3RlZCBlbXB0eSBibG9jayAoYmxvY2stbm8tZW1wdHkpJztcbmNvbnN0IGJsb2NrTm9FbXB0eVVybCA9ICdodHRwOi8vc3R5bGVsaW50LmlvL3VzZXItZ3VpZGUvcnVsZXMvYmxvY2stbm8tZW1wdHknO1xuXG5kZXNjcmliZSgnVGhlIHN0eWxlbGludCBwcm92aWRlciBmb3IgTGludGVyJywgKCkgPT4ge1xuICBjb25zdCBsaW50ID0gcmVxdWlyZSgnLi4vbGliL2luZGV4LmpzJykucHJvdmlkZUxpbnRlcigpLmxpbnQ7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgYXRvbS53b3Jrc3BhY2UuZGVzdHJveUFjdGl2ZVBhbmVJdGVtKCk7XG5cbiAgICBhd2FpdCBhdG9tLnBhY2thZ2VzLmFjdGl2YXRlUGFja2FnZSgnbGFuZ3VhZ2UtY3NzJyk7XG4gICAgYXdhaXQgYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2xpbnRlci1zdHlsZWxpbnQnKTtcbiAgfSk7XG5cbiAgaXQoJ2J1bmRsZXMgYW5kIHdvcmtzIHdpdGggc3R5bGVsaW50LWNvbmZpZy1zdGFuZGFyZCcsIGFzeW5jICgpID0+IHtcbiAgICBhdG9tLmNvbmZpZy5zZXQoJ2xpbnRlci1zdHlsZWxpbnQudXNlU3RhbmRhcmQnLCB0cnVlKTtcbiAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGNvbmZpZ1N0YW5kYXJkUGF0aCk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG4gICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgLy8gdGVzdCBvbmx5IHRoZSBmaXJzdCBlcnJvclxuICAgIGV4cGVjdChtZXNzYWdlc1swXS5zZXZlcml0eSkudG9CZSgnZXJyb3InKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uZXhjZXJwdCkudG9CZShibG9ja05vRW1wdHkpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS51cmwpLnRvQmUoYmxvY2tOb0VtcHR5VXJsKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9CZShjb25maWdTdGFuZGFyZFBhdGgpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzAsIDVdLCBbMCwgN11dKTtcbiAgfSk7XG5cbiAgaXQoJ3JlcG9ydHMgcnVsZXMgc2V0IGFzIHdhcm5pbmdzIGFzIGEgV2FybmluZycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKHdhcm5pbmdQYXRoKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcblxuICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgIC8vIHRlc3Qgb25seSB0aGUgZmlyc3QgZXJyb3JcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uc2V2ZXJpdHkpLnRvQmUoJ3dhcm5pbmcnKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uZXhjZXJwdCkudG9CZShibG9ja05vRW1wdHkpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS51cmwpLnRvQmUoYmxvY2tOb0VtcHR5VXJsKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9NYXRjaCgvLit3YXJuXFwuY3NzJC8pO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzAsIDVdLCBbMCwgN11dKTtcbiAgfSk7XG5cbiAgaXQoJ2ZpbmRzIG5vdGhpbmcgd3Jvbmcgd2l0aCBhIHZhbGlkIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZ29vZFBhdGggPSBwYXRoLmpvaW4oZml4dHVyZXMsICdnb29kJywgJ2dvb2QuY3NzJyk7XG4gICAgY29uc3QgZWRpdG9yID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3Blbihnb29kUGF0aCk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG4gICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZSgwKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIENTUyBzeW50YXggZXJyb3JzIHdpdGggYW4gaW52YWxpZCBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGludmFsaWRQYXRoID0gcGF0aC5qb2luKGZpeHR1cmVzLCAnaW52YWxpZCcsICdpbnZhbGlkLmNzcycpO1xuICAgIGNvbnN0IGVkaXRvciA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oaW52YWxpZFBhdGgpO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbGludChlZGl0b3IpO1xuICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmUoMSk7XG5cbiAgICBleHBlY3QobWVzc2FnZXNbMF0uc2V2ZXJpdHkpLnRvQmUoJ2Vycm9yJyk7XG4gICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmV4Y2VycHQpLnRvQmUoJ1Vua25vd24gd29yZCAoQ3NzU3ludGF4RXJyb3IpJyk7XG4gICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmxvY2F0aW9uLmZpbGUpLnRvQmUoaW52YWxpZFBhdGgpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzAsIDBdLCBbMCwgM11dKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIGFuIGVycm9yIG9uIG5vbi1mYXRhbCBzdHlsZWxpbnQgcnVudGltZSBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0ZXh0ID0gJ1VuZXhwZWN0ZWQgb3B0aW9uIHZhbHVlIFwiZm9vXCIgZm9yIHJ1bGUgXCJibG9jay1uby1lbXB0eVwiJztcbiAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGludmFsaWRSdWxlUGF0aCk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG4gICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZSgxKTtcblxuICAgIGV4cGVjdChtZXNzYWdlc1swXS5zZXZlcml0eSkudG9CZSgnZXJyb3InKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uZXhjZXJwdCkudG9CZSh0ZXh0KTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9CZShpbnZhbGlkUnVsZVBhdGgpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzAsIDBdLCBbMCwgNl1dKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBmb3IgYSBmYXRhbCBzdHlsZWxpbnQgcnVudGltZSBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpbnZhbGlkRXh0ZW5kc1BhdGggPSBwYXRoLmpvaW4oZml4dHVyZXMsICdpbnZhbGlkLWV4dGVuZHMnLCAnc3R5bGVzLmNzcycpO1xuXG4gICAgc3B5T24oYXRvbS5ub3RpZmljYXRpb25zLCAnYWRkRXJyb3InKS5hbmRDYWxsRmFrZSgoKSA9PiAoe30pKTtcbiAgICBjb25zdCBhZGRFcnJvciA9IGF0b20ubm90aWZpY2F0aW9ucy5hZGRFcnJvcjtcblxuICAgIGNvbnN0IGVkaXRvciA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oaW52YWxpZEV4dGVuZHNQYXRoKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcbiAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlKDApO1xuXG4gICAgY29uc3QgYXJncyA9IGFkZEVycm9yLm1vc3RSZWNlbnRDYWxsLmFyZ3M7XG4gICAgZXhwZWN0KGFkZEVycm9yLmNhbGxzLmxlbmd0aCkudG9CZSgxKTtcbiAgICBleHBlY3QoYXJnc1swXSkudG9CZSgnVW5hYmxlIHRvIHBhcnNlIHN0eWxlbGludCBjb25maWd1cmF0aW9uJyk7XG4gICAgZXhwZWN0KGFyZ3NbMV0uZGV0YWlsKS50b0NvbnRhaW4oJ0NvdWxkIG5vdCBmaW5kIFwic29tZS1tb2R1bGUtdGhhdC13aWxsLW5ldmVyLWV4aXN0XCIuJyk7XG4gICAgZXhwZWN0KGFyZ3NbMV0uZGlzbWlzc2FibGUpLnRvQmUodHJ1ZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyBhbiBlcnJvciBub3RpZmljYXRpb24gd2l0aCBhIGJyb2tlbiBzeW50YXggY29uZmlndXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpbnZhbGlkQ29uZmlnUGF0aCA9IHBhdGguam9pbihmaXh0dXJlcywgJ2ludmFsaWQtY29uZmlnJywgJ3N0eWxlcy5jc3MnKTtcblxuICAgIHNweU9uKGF0b20ubm90aWZpY2F0aW9ucywgJ2FkZEVycm9yJykuYW5kQ2FsbEZha2UoKCkgPT4gKHt9KSk7XG4gICAgY29uc3QgYWRkRXJyb3IgPSBhdG9tLm5vdGlmaWNhdGlvbnMuYWRkRXJyb3I7XG5cbiAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGludmFsaWRDb25maWdQYXRoKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcbiAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlKDApO1xuXG4gICAgY29uc3QgYXJncyA9IGFkZEVycm9yLm1vc3RSZWNlbnRDYWxsLmFyZ3M7XG4gICAgZXhwZWN0KGFkZEVycm9yLmNhbGxzLmxlbmd0aCkudG9CZSgxKTtcbiAgICBleHBlY3QoYXJnc1swXSkudG9CZSgnVW5hYmxlIHRvIHBhcnNlIHN0eWxlbGludCBjb25maWd1cmF0aW9uJyk7XG4gICAgZXhwZWN0KGFyZ3NbMV0uZGV0YWlsKS50b0NvbnRhaW4oJz4+PicpO1xuICAgIGV4cGVjdChhcmdzWzFdLmRpc21pc3NhYmxlKS50b0JlKHRydWUpO1xuICB9KTtcblxuICBpdCgnZGlzYWJsZXMgd2hlbiBubyBjb25maWd1cmF0aW9uIGZpbGUgaXMgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgc3B5T24oYXRvbS5ub3RpZmljYXRpb25zLCAnYWRkRXJyb3InKS5hbmRDYWxsRmFrZSgoKSA9PiAoe30pKTtcblxuICAgIGNvbnN0IGVkaXRvciA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oY29uZmlnU3RhbmRhcmRQYXRoKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcbiAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlKDApO1xuICAgIGV4cGVjdChhdG9tLm5vdGlmaWNhdGlvbnMuYWRkRXJyb3IuY2FsbHMubGVuZ3RoKS50b0JlKDApO1xuICB9KTtcblxuICBkZXNjcmliZSgnaWdub3JlcyBmaWxlcyB3aGVuIGZpbGVzIGFyZSBzcGVjaWZpZWQgaW4gaWdub3JlRmlsZXMgYW5kJywgKCkgPT4ge1xuICAgIGNvbnN0IGlnbm9yZVBhdGggPSBwYXRoLmpvaW4oZml4dHVyZXMsICdpZ25vcmUtZmlsZXMnLCAnc3R5bGVzLmNzcycpO1xuXG4gICAgaXQoJ3Nob3dzIGEgbWVzc2FnZSB3aGVuIGFza2VkIHRvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXRvbS5jb25maWcuc2V0KCdsaW50ZXItc3R5bGVsaW50LnNob3dJZ25vcmVkJywgdHJ1ZSk7XG4gICAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGlnbm9yZVBhdGgpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlKDEpO1xuXG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0uc2V2ZXJpdHkpLnRvQmUoJ3dhcm5pbmcnKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5leGNlcnB0KS50b0JlKCdUaGlzIGZpbGUgaXMgaWdub3JlZCcpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmxvY2F0aW9uLmZpbGUpLnRvQmUoaWdub3JlUGF0aCk7XG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24ucG9zaXRpb24pLnRvRXF1YWwoW1swLCAwXSwgWzAsIDddXSk7XG4gICAgfSk7XG5cbiAgICBpdChcImRvZXNuJ3Qgc2hvdyBhIG1lc3NhZ2Ugd2hlbiBub3QgYXNrZWQgdG9cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXRvbS5jb25maWcuc2V0KCdsaW50ZXItc3R5bGVsaW50LnNob3dJZ25vcmVkJywgZmFsc2UpO1xuICAgICAgY29uc3QgZWRpdG9yID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihpZ25vcmVQYXRoKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbGludChlZGl0b3IpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJkb2Vzbid0IHBlcnNpc3Qgc2V0dGluZ3MgYWNyb3NzIHJ1bnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFRoZSBjb25maWcgZm9yIHRoaXMgZm9sZGVyIGJyZWFrcyB0aGUgYmxvY2stbm8tZW1wdHkgcnVsZVxuICAgIGNvbnN0IGludmFsaWRFZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGludmFsaWRSdWxlUGF0aCk7XG4gICAgYXdhaXQgbGludChpbnZhbGlkRWRpdG9yKTtcblxuICAgIC8vIFdoaWxlIHRoaXMgZmlsZSB1c2VzIHRoYXQgcnVsZVxuICAgIGNvbnN0IGVkaXRvciA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4od2FybmluZ1BhdGgpO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbGludChlZGl0b3IpO1xuICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgIC8vIHRlc3Qgb25seSB0aGUgZmlyc3QgZXJyb3JcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uc2V2ZXJpdHkpLnRvQmUoJ3dhcm5pbmcnKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0uZXhjZXJwdCkudG9CZShibG9ja05vRW1wdHkpO1xuICAgIGV4cGVjdChtZXNzYWdlc1swXS51cmwpLnRvQmUoYmxvY2tOb0VtcHR5VXJsKTtcbiAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9CZSh3YXJuaW5nUGF0aCk7XG4gICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmxvY2F0aW9uLnBvc2l0aW9uKS50b0VxdWFsKFtbMCwgNV0sIFswLCA3XV0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnd29ya3Mgd2l0aCBMZXNzIGZpbGVzIGFuZCcsICgpID0+IHtcbiAgICBjb25zdCBsZXNzRGlyID0gcGF0aC5qb2luKGZpeHR1cmVzLCAnbGVzcycpO1xuICAgIGNvbnN0IGdvb2RMZXNzID0gcGF0aC5qb2luKGxlc3NEaXIsICdnb29kLmxlc3MnKTtcbiAgICBjb25zdCBiYWRMZXNzID0gcGF0aC5qb2luKGxlc3NEaXIsICdiYWQubGVzcycpO1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhdG9tLnBhY2thZ2VzLmFjdGl2YXRlUGFja2FnZSgnbGFuZ3VhZ2UtbGVzcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3dzIGxpbnQgbWVzc2FnZXMgd2hlbiBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVkaXRvciA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oYmFkTGVzcyk7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgLy8gdGVzdCBvbmx5IHRoZSBmaXJzdCBlcnJvclxuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzBdLnNldmVyaXR5KS50b0JlKCdlcnJvcicpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmV4Y2VycHQpLnRvQmUoYmxvY2tOb0VtcHR5KTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS51cmwpLnRvQmUoYmxvY2tOb0VtcHR5VXJsKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5maWxlKS50b0JlKGJhZExlc3MpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzBdLmxvY2F0aW9uLnBvc2l0aW9uKS50b0VxdWFsKFtbMCwgNV0sIFswLCA3XV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2ZpbmRzIG5vdGhpbmcgd3Jvbmcgd2l0aCBhIHZhbGlkIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGdvb2RMZXNzKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbGludChlZGl0b3IpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3dvcmtzIHdpdGggUG9zdENTUyBmaWxlcyBhbmQnLCAoKSA9PiB7XG4gICAgY29uc3QgZ29vZFBvc3RDU1MgPSBwYXRoLmpvaW4oZml4dHVyZXMsICdwb3N0Y3NzJywgJ3N0eWxlcy5wY3NzJyk7XG4gICAgY29uc3QgaXNzdWVzUG9zdENTUyA9IHBhdGguam9pbihmaXh0dXJlcywgJ3Bvc3Rjc3MnLCAnaXNzdWVzLnBjc3MnKTtcblxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2xhbmd1YWdlLXBvc3Rjc3MnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG93cyBsaW50IG1lc3NhZ2VzIHdoZW4gZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGlzc3Vlc1Bvc3RDU1MpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIHRlc3Qgb25seSB0aGUgZmlyc3QgZXJyb3JcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5zZXZlcml0eSkudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5leGNlcnB0KS50b0JlKGJsb2NrTm9FbXB0eSk7XG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0udXJsKS50b0JlKGJsb2NrTm9FbXB0eVVybCk7XG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9CZShpc3N1ZXNQb3N0Q1NTKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzAsIDVdLCBbMCwgN11dKTtcbiAgICB9KTtcblxuICAgIGl0KCdmaW5kcyBub3RoaW5nIHdyb25nIHdpdGggYSB2YWxpZCBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZWRpdG9yID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3Blbihnb29kUG9zdENTUyk7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGxpbnQoZWRpdG9yKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmUoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3b3JrcyB3aXRoIFN1Z2FyU1MgZmlsZXMgYW5kJywgKCkgPT4ge1xuICAgIGNvbnN0IGdvb2RTdWdhclNTID0gcGF0aC5qb2luKGZpeHR1cmVzLCAnc3VnYXJzcycsICdnb29kLnNzcycpO1xuICAgIGNvbnN0IGJhZFN1Z2FyU1MgPSBwYXRoLmpvaW4oZml4dHVyZXMsICdzdWdhcnNzJywgJ2JhZC5zc3MnKTtcblxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2xhbmd1YWdlLXBvc3Rjc3MnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG93cyBsaW50IG1lc3NhZ2VzIHdoZW4gZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGJhZFN1Z2FyU1MpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBsaW50KGVkaXRvcik7XG5cbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5zZXZlcml0eSkudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5leGNlcnB0KS50b0JlKCdFeHBlY3RlZCBhIGxlYWRpbmcgemVybyAobnVtYmVyLWxlYWRpbmctemVybyknKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS51cmwpLnRvQmUoJ2h0dHA6Ly9zdHlsZWxpbnQuaW8vdXNlci1ndWlkZS9ydWxlcy9udW1iZXItbGVhZGluZy16ZXJvJyk7XG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0ubG9jYXRpb24uZmlsZSkudG9CZShiYWRTdWdhclNTKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc1swXS5sb2NhdGlvbi5wb3NpdGlvbikudG9FcXVhbChbWzEsIDM4XSwgWzEsIDQwXV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2ZpbmRzIG5vdGhpbmcgd3Jvbmcgd2l0aCBhIHZhbGlkIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKGdvb2RTdWdhclNTKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbGludChlZGl0b3IpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==