(function() {
  var StyleLine;

  StyleLine = require("../../lib/commands/style-line");

  describe("StyleLine", function() {
    describe(".isStyleOn", function() {
      it("check heading 1 exists", function() {
        var cmd, fixture;
        cmd = new StyleLine("h1");
        fixture = "# heading 1";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      it("check heading 1 not exists", function() {
        var cmd, fixture;
        cmd = new StyleLine("h1");
        fixture = "## heading 1";
        return expect(cmd.isStyleOn(fixture)).toBe(false);
      });
      it("check ul exists", function() {
        var cmd, fixture;
        cmd = new StyleLine("ul");
        fixture = "* unordered list";
        expect(cmd.isStyleOn(fixture)).toBe(true);
        fixture = "- unordered list";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      return it("check ul not exists", function() {
        var cmd, fixture;
        cmd = new StyleLine("ul");
        fixture = "a normal list";
        expect(cmd.isStyleOn(fixture)).toBe(false);
        fixture = "0. ordered list";
        return expect(cmd.isStyleOn(fixture)).toBe(false);
      });
    });
    describe(".addStyle", function() {
      it("applies heading 1 styles", function() {
        var cmd, fixture;
        atom.config.set("markdown-writer.lineStyles.h1", {
          before: "# ",
          after: " #"
        });
        cmd = new StyleLine("h1");
        fixture = "## heading 1 ##";
        return expect(cmd.addStyle(fixture)).toBe("# heading 1 #");
      });
      it("applies heading 2 styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("h2");
        fixture = "# heading 2";
        return expect(cmd.addStyle(fixture)).toBe("## heading 2");
      });
      it("applies blockquote styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("blockquote");
        fixture = "blockquote";
        return expect(cmd.addStyle(fixture)).toBe("> blockquote");
      });
      it("applies unordered list template styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("ul");
        fixture = "  unordered line";
        return expect(cmd.addStyle(fixture, {
          ul: "*"
        })).toBe("  * unordered line");
      });
      return it("applies ordered list template styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("ol");
        fixture = "ordered line";
        return expect(cmd.addStyle(fixture, {
          i: 3
        })).toBe("3. ordered line");
      });
    });
    describe(".removeStyle", function() {
      it("applies heading 1 styles", function() {
        var cmd, fixture;
        atom.config.set("markdown-writer.lineStyles.h1", {
          before: "# ",
          after: " #"
        });
        cmd = new StyleLine("h1");
        fixture = "# heading 1 #";
        return expect(cmd.removeStyle(fixture)).toBe("heading 1");
      });
      it("remove heading 3 styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("h3");
        fixture = "### heading 3";
        return expect(cmd.removeStyle(fixture)).toBe("heading 3");
      });
      return it("remove ol styles", function() {
        var cmd, fixture;
        cmd = new StyleLine("ol");
        fixture = "123. ordered list";
        return expect(cmd.removeStyle(fixture)).toBe("ordered list");
      });
    });
    return describe(".trigger", function() {
      var editor;
      editor = null;
      beforeEach(function() {
        waitsForPromise(function() {
          return atom.workspace.open("empty.markdown");
        });
        return runs(function() {
          return editor = atom.workspace.getActiveTextEditor();
        });
      });
      it("insert empty blockquote style", function() {
        new StyleLine("blockquote").trigger();
        expect(editor.getText()).toBe("> ");
        return expect(editor.getCursorBufferPosition().column).toBe(2);
      });
      it("apply heading 2", function() {
        editor.setText("# heading");
        new StyleLine("h2").trigger();
        expect(editor.getText()).toBe("## heading");
        return expect(editor.getCursorBufferPosition().column).toBe(10);
      });
      it("remove heading 3", function() {
        editor.setText("### heading");
        new StyleLine("h3").trigger();
        expect(editor.getText()).toBe("heading");
        return expect(editor.getCursorBufferPosition().column).toBe(7);
      });
      it("apply ordered/unordered list", function() {
        editor.setText("- list");
        new StyleLine("ol").trigger();
        expect(editor.getText()).toBe("1. list");
        expect(editor.getCursorBufferPosition().column).toBe(7);
        new StyleLine("ul").trigger();
        expect(editor.getText()).toBe("- list");
        return expect(editor.getCursorBufferPosition().column).toBe(6);
      });
      return it("apply task/taskdone list", function() {
        editor.setText("task");
        new StyleLine("task").trigger();
        expect(editor.getText()).toBe("- [ ] task");
        new StyleLine("taskdone").trigger();
        expect(editor.getText()).toBe("- [x] task");
        new StyleLine("task").trigger();
        expect(editor.getText()).toBe("- [ ] task");
        new StyleLine("task").trigger();
        return expect(editor.getText()).toBe("task");
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbWFya2Rvd24td3JpdGVyL3NwZWMvY29tbWFuZHMvc3R5bGUtbGluZS1zcGVjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsU0FBQSxHQUFZLE9BQUEsQ0FBUSwrQkFBUjs7RUFFWixRQUFBLENBQVMsV0FBVCxFQUFzQixTQUFBO0lBQ3BCLFFBQUEsQ0FBUyxZQUFULEVBQXVCLFNBQUE7TUFDckIsRUFBQSxDQUFHLHdCQUFILEVBQTZCLFNBQUE7QUFDM0IsWUFBQTtRQUFBLEdBQUEsR0FBVSxJQUFBLFNBQUEsQ0FBVSxJQUFWO1FBQ1YsT0FBQSxHQUFVO2VBQ1YsTUFBQSxDQUFPLEdBQUcsQ0FBQyxTQUFKLENBQWMsT0FBZCxDQUFQLENBQThCLENBQUMsSUFBL0IsQ0FBb0MsSUFBcEM7TUFIMkIsQ0FBN0I7TUFLQSxFQUFBLENBQUcsNEJBQUgsRUFBaUMsU0FBQTtBQUMvQixZQUFBO1FBQUEsR0FBQSxHQUFVLElBQUEsU0FBQSxDQUFVLElBQVY7UUFDVixPQUFBLEdBQVU7ZUFDVixNQUFBLENBQU8sR0FBRyxDQUFDLFNBQUosQ0FBYyxPQUFkLENBQVAsQ0FBOEIsQ0FBQyxJQUEvQixDQUFvQyxLQUFwQztNQUgrQixDQUFqQztNQUtBLEVBQUEsQ0FBRyxpQkFBSCxFQUFzQixTQUFBO0FBQ3BCLFlBQUE7UUFBQSxHQUFBLEdBQVUsSUFBQSxTQUFBLENBQVUsSUFBVjtRQUNWLE9BQUEsR0FBVTtRQUNWLE1BQUEsQ0FBTyxHQUFHLENBQUMsU0FBSixDQUFjLE9BQWQsQ0FBUCxDQUE4QixDQUFDLElBQS9CLENBQW9DLElBQXBDO1FBQ0EsT0FBQSxHQUFVO2VBQ1YsTUFBQSxDQUFPLEdBQUcsQ0FBQyxTQUFKLENBQWMsT0FBZCxDQUFQLENBQThCLENBQUMsSUFBL0IsQ0FBb0MsSUFBcEM7TUFMb0IsQ0FBdEI7YUFPQSxF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TSxDQUFDLE9BQVAsQ0FBZSxNQUFmO1FBRUksSUFBQSxTQUFBLENBQVUsTUFBVixDQUFpQixDQUFDLE9BQWxCLENBQUE7UUFDSixNQUFBLENBQU8sTUFBTSxDQUFDLE9BQVAsQ0FBQSxDQUFQLENBQXdCLENBQUMsSUFBekIsQ0FBOEIsWUFBOUI7UUFFSSxJQUFBLFNBQUEsQ0FBVSxVQUFWLENBQXFCLENBQUMsT0FBdEIsQ0FBQTtRQUNKLE1BQUEsQ0FBTyxNQUFNLENBQUMsT0FBUCxDQUFBLENBQVAsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixZQUE5QjtRQUVJLElBQUEsU0FBQSxDQUFVLE1BQVYsQ0FBaUIsQ0FBQyxPQUFsQixDQUFBO1FBQ0osTUFBQSxDQUFPLE1BQU0sQ0FBQyxPQUFQLENBQUEsQ0FBUCxDQUF3QixDQUFDLElBQXpCLENBQThCLFlBQTlCO1FBRUksSUFBQSxTQUFBLENBQVUsTUFBVixDQUFpQixDQUFDLE9BQWxCLENBQUE7ZUFDSixNQUFBLENBQU8sTUFBTSxDQUFDLE9BQVAsQ0FBQSxDQUFQLENBQXdCLENBQUMsSUFBekIsQ0FBOEIsTUFBOUI7TUFiNkIsQ0FBL0I7SUFyQ21CLENBQXJCO0VBdEVvQixDQUF0QjtBQUZBIiwic291cmNlc0NvbnRlbnQiOlsiU3R5bGVMaW5lID0gcmVxdWlyZSBcIi4uLy4uL2xpYi9jb21tYW5kcy9zdHlsZS1saW5lXCJcblxuZGVzY3JpYmUgXCJTdHlsZUxpbmVcIiwgLT5cbiAgZGVzY3JpYmUgXCIuaXNTdHlsZU9uXCIsIC0+XG4gICAgaXQgXCJjaGVjayBoZWFkaW5nIDEgZXhpc3RzXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVMaW5lKFwiaDFcIilcbiAgICAgIGZpeHR1cmUgPSBcIiMgaGVhZGluZyAxXCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImNoZWNrIGhlYWRpbmcgMSBub3QgZXhpc3RzXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVMaW5lKFwiaDFcIilcbiAgICAgIGZpeHR1cmUgPSBcIiMjIGhlYWRpbmcgMVwiXG4gICAgICBleHBlY3QoY21kLmlzU3R5bGVPbihmaXh0dXJlKSkudG9CZShmYWxzZSlcblxuICAgIGl0IFwiY2hlY2sgdWwgZXhpc3RzXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVMaW5lKFwidWxcIilcbiAgICAgIGZpeHR1cmUgPSBcIiogdW5vcmRlcmVkIGxpc3RcIlxuICAgICAgZXhwZWN0KGNtZC5pc1N0eWxlT24oZml4dHVyZSkpLnRvQmUodHJ1ZSlcbiAgICAgIGZpeHR1cmUgPSBcIi0gdW5vcmRlcmVkIGxpc3RcIlxuICAgICAgZXhwZWN0KGNtZC5pc1N0eWxlT24oZml4dHVyZSkpLnRvQmUodHJ1ZSlcblxuICAgIGl0IFwiY2hlY2sgdWwgbm90IGV4aXN0c1wiLCAtPlxuICAgICAgY21kID0gbmV3IFN0eWxlTGluZShcInVsXCIpXG4gICAgICBmaXh0dXJlID0gXCJhIG5vcm1hbCBsaXN0XCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKGZhbHNlKVxuICAgICAgZml4dHVyZSA9IFwiMC4gb3JkZXJlZCBsaXN0XCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKGZhbHNlKVxuXG4gIGRlc2NyaWJlIFwiLmFkZFN0eWxlXCIsIC0+XG4gICAgaXQgXCJhcHBsaWVzIGhlYWRpbmcgMSBzdHlsZXNcIiwgLT5cbiAgICAgIGF0b20uY29uZmlnLnNldChcIm1hcmtkb3duLXdyaXRlci5saW5lU3R5bGVzLmgxXCIsIGJlZm9yZTogXCIjIFwiLCBhZnRlcjogXCIgI1wiKVxuICAgICAgY21kID0gbmV3IFN0eWxlTGluZShcImgxXCIpXG4gICAgICBmaXh0dXJlID0gXCIjIyBoZWFkaW5nIDEgIyNcIlxuICAgICAgZXhwZWN0KGNtZC5hZGRTdHlsZShmaXh0dXJlKSkudG9CZShcIiMgaGVhZGluZyAxICNcIilcblxuICAgIGl0IFwiYXBwbGllcyBoZWFkaW5nIDIgc3R5bGVzXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVMaW5lKFwiaDJcIilcbiAgICAgIGZpeHR1cmUgPSBcIiMgaGVhZGluZyAyXCJcbiAgICAgIGV4cGVjdChjbWQuYWRkU3R5bGUoZml4dHVyZSkpLnRvQmUoXCIjIyBoZWFkaW5nIDJcIilcblxuICAgIGl0IFwiYXBwbGllcyBibG9ja3F1b3RlIHN0eWxlc1wiLCAtPlxuICAgICAgY21kID0gbmV3IFN0eWxlTGluZShcImJsb2NrcXVvdGVcIilcbiAgICAgIGZpeHR1cmUgPSBcImJsb2NrcXVvdGVcIlxuICAgICAgZXhwZWN0KGNtZC5hZGRTdHlsZShmaXh0dXJlKSkudG9CZShcIj4gYmxvY2txdW90ZVwiKVxuXG4gICAgaXQgXCJhcHBsaWVzIHVub3JkZXJlZCBsaXN0IHRlbXBsYXRlIHN0eWxlc1wiLCAtPlxuICAgICAgY21kID0gbmV3IFN0eWxlTGluZShcInVsXCIpXG4gICAgICBmaXh0dXJlID0gXCIgIHVub3JkZXJlZCBsaW5lXCJcbiAgICAgIGV4cGVjdChjbWQuYWRkU3R5bGUoZml4dHVyZSwgeyB1bDogXCIqXCIgfSkpLnRvQmUoXCIgICogdW5vcmRlcmVkIGxpbmVcIilcblxuICAgIGl0IFwiYXBwbGllcyBvcmRlcmVkIGxpc3QgdGVtcGxhdGUgc3R5bGVzXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVMaW5lKFwib2xcIilcbiAgICAgIGZpeHR1cmUgPSBcIm9yZGVyZWQgbGluZVwiXG4gICAgICBleHBlY3QoY21kLmFkZFN0eWxlKGZpeHR1cmUsIHsgaTogMyB9KSkudG9CZShcIjMuIG9yZGVyZWQgbGluZVwiKVxuXG4gIGRlc2NyaWJlIFwiLnJlbW92ZVN0eWxlXCIsIC0+XG4gICAgaXQgXCJhcHBsaWVzIGhlYWRpbmcgMSBzdHlsZXNcIiwgLT5cbiAgICAgIGF0b20uY29uZmlnLnNldChcIm1hcmtkb3duLXdyaXRlci5saW5lU3R5bGVzLmgxXCIsIGJlZm9yZTogXCIjIFwiLCBhZnRlcjogXCIgI1wiKVxuICAgICAgY21kID0gbmV3IFN0eWxlTGluZShcImgxXCIpXG4gICAgICBmaXh0dXJlID0gXCIjIGhlYWRpbmcgMSAjXCJcbiAgICAgIGV4cGVjdChjbWQucmVtb3ZlU3R5bGUoZml4dHVyZSkpLnRvQmUoXCJoZWFkaW5nIDFcIilcblxuICAgIGl0IFwicmVtb3ZlIGhlYWRpbmcgMyBzdHlsZXNcIiwgLT5cbiAgICAgIGNtZCA9IG5ldyBTdHlsZUxpbmUoXCJoM1wiKVxuICAgICAgZml4dHVyZSA9IFwiIyMjIGhlYWRpbmcgM1wiXG4gICAgICBleHBlY3QoY21kLnJlbW92ZVN0eWxlKGZpeHR1cmUpKS50b0JlKFwiaGVhZGluZyAzXCIpXG5cbiAgICBpdCBcInJlbW92ZSBvbCBzdHlsZXNcIiwgLT5cbiAgICAgIGNtZCA9IG5ldyBTdHlsZUxpbmUoXCJvbFwiKVxuICAgICAgZml4dHVyZSA9IFwiMTIzLiBvcmRlcmVkIGxpc3RcIlxuICAgICAgZXhwZWN0KGNtZC5yZW1vdmVTdHlsZShmaXh0dXJlKSkudG9CZShcIm9yZGVyZWQgbGlzdFwiKVxuXG4gIGRlc2NyaWJlIFwiLnRyaWdnZXJcIiwgLT5cbiAgICBlZGl0b3IgPSBudWxsXG5cbiAgICBiZWZvcmVFYWNoIC0+XG4gICAgICB3YWl0c0ZvclByb21pc2UgLT4gYXRvbS53b3Jrc3BhY2Uub3BlbihcImVtcHR5Lm1hcmtkb3duXCIpXG4gICAgICBydW5zIC0+IGVkaXRvciA9IGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVRleHRFZGl0b3IoKVxuXG4gICAgaXQgXCJpbnNlcnQgZW1wdHkgYmxvY2txdW90ZSBzdHlsZVwiLCAtPlxuICAgICAgbmV3IFN0eWxlTGluZShcImJsb2NrcXVvdGVcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcIj4gXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDIpXG5cbiAgICBpdCBcImFwcGx5IGhlYWRpbmcgMlwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCIjIGhlYWRpbmdcIilcblxuICAgICAgbmV3IFN0eWxlTGluZShcImgyXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIjIyBoZWFkaW5nXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDEwKVxuXG4gICAgaXQgXCJyZW1vdmUgaGVhZGluZyAzXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcIiMjIyBoZWFkaW5nXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJoM1wiKS50cmlnZ2VyKClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwiaGVhZGluZ1wiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLmNvbHVtbikudG9CZSg3KVxuXG4gICAgaXQgXCJhcHBseSBvcmRlcmVkL3Vub3JkZXJlZCBsaXN0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcIi0gbGlzdFwiKVxuXG4gICAgICBuZXcgU3R5bGVMaW5lKFwib2xcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcIjEuIGxpc3RcIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoNylcblxuICAgICAgbmV3IFN0eWxlTGluZShcInVsXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCItIGxpc3RcIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoNilcblxuICAgIGl0IFwiYXBwbHkgdGFzay90YXNrZG9uZSBsaXN0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcInRhc2tcIilcblxuICAgICAgbmV3IFN0eWxlTGluZShcInRhc2tcIikudHJpZ2dlcigpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcIi0gWyBdIHRhc2tcIilcblxuICAgICAgbmV3IFN0eWxlTGluZShcInRhc2tkb25lXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCItIFt4XSB0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCItIFsgXSB0YXNrXCIpXG5cbiAgICAgIG5ldyBTdHlsZUxpbmUoXCJ0YXNrXCIpLnRyaWdnZXIoKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJ0YXNrXCIpXG4iXX0=
