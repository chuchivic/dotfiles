(function() {
  var StyleText;

  StyleText = require("../../lib/commands/style-text");

  describe("StyleText", function() {
    describe(".isStyleOn", function() {
      it("check a style is added", function() {
        var cmd, fixture;
        cmd = new StyleText("bold");
        fixture = "**bold**";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      it("check any bold style is in string", function() {
        var cmd, fixture;
        cmd = new StyleText("bold");
        fixture = "hello **bold** world";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      it("check any italic is in string", function() {
        var cmd, fixture;
        cmd = new StyleText("italic");
        fixture = "_italic_ yah _text_";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      it("check any strike is in string", function() {
        var cmd, fixture;
        cmd = new StyleText("strikethrough");
        fixture = "**bold** one ~~strike~~ two _italic_";
        return expect(cmd.isStyleOn(fixture)).toBe(true);
      });
      return it("check a style is not added", function() {
        var cmd, fixture;
        cmd = new StyleText("bold");
        fixture = "_not bold_";
        return expect(cmd.isStyleOn(fixture)).toBe(false);
      });
    });
    describe(".removeStyle", function() {
      it("remove a style from text", function() {
        var cmd, fixture;
        cmd = new StyleText("italic");
        fixture = "_italic text_";
        return expect(cmd.removeStyle(fixture)).toEqual("italic text");
      });
      it("remove bold style from text", function() {
        var cmd, fixture;
        cmd = new StyleText("bold");
        fixture = "**bold text** in a string";
        return expect(cmd.removeStyle(fixture)).toEqual("bold text in a string");
      });
      return it("remove italic styles from text", function() {
        var cmd, fixture;
        cmd = new StyleText("italic");
        fixture = "_italic_ yah _text_ loh _more_";
        return expect(cmd.removeStyle(fixture)).toEqual("italic yah text loh more");
      });
    });
    describe(".addStyle", function() {
      return it("add a style to text", function() {
        var cmd, fixture;
        cmd = new StyleText("bold");
        fixture = "bold text";
        return expect(cmd.addStyle(fixture)).toEqual("**bold text**");
      });
    });
    return describe(".trigger", function() {
      var editor;
      editor = null;
      beforeEach(function() {
        waitsForPromise(function() {
          return atom.workspace.open("empty.markdown");
        });
        return runs(function() {
          return editor = atom.workspace.getActiveTextEditor();
        });
      });
      it("insert empty bold style", function() {
        new StyleText("bold").trigger();
        expect(editor.getText()).toBe("****");
        return expect(editor.getCursorBufferPosition().column).toBe(2);
      });
      it("apply italic style to word", function() {
        editor.setText("italic");
        editor.setCursorBufferPosition([0, 2]);
        new StyleText("italic").trigger();
        expect(editor.getText()).toBe("_italic_");
        return expect(editor.getCursorBufferPosition().column).toBe(8);
      });
      it("remove italic style from word", function() {
        editor.setText("_italic_");
        editor.setCursorBufferPosition([0, 3]);
        new StyleText("italic").trigger();
        expect(editor.getText()).toBe("italic");
        return expect(editor.getCursorBufferPosition().column).toBe(6);
      });
      return it("toggle code style on selection", function() {
        editor.setText("some code here");
        editor.setSelectedBufferRange([[0, 5], [0, 9]]);
        new StyleText("code").trigger();
        expect(editor.getText()).toBe("some `code` here");
        return expect(editor.getCursorBufferPosition().column).toBe(11);
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbWFya2Rvd24td3JpdGVyL3NwZWMvY29tbWFuZHMvc3R5bGUtdGV4dC1zcGVjLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsU0FBQSxHQUFZLE9BQUEsQ0FBUSwrQkFBUjs7RUFFWixRQUFBLENBQVMsV0FBVCxFQUFzQixTQUFBO0lBQ3BCLFFBQUEsQ0FBUyxZQUFULEVBQXVCLFNBQUE7TUFDckIsRUFBQSxDQUFHLHdCQUFILEVBQTZCLFNBQUE7QUFDM0IsWUFBQTtRQUFBLEdBQUEsR0FBVSxJQUFBLFNBQUEsQ0FBVSxNQUFWO1FBQ1YsT0FBQSxHQUFVO2VBQ1YsTUFBQSxDQUFPLEdBQUcsQ0FBQyxTQUFKLENBQWMsT0FBZCxDQUFQLENBQThCLENBQUMsSUFBL0IsQ0FBb0MsSUFBcEM7TUFIMkIsQ0FBN0I7TUFLQSxFQUFBLENBQUcsbUNBQUgsRUFBd0MsU0FBQTtBQUN0QyxZQUFBO1FBQUEsR0FBQSxHQUFVLElBQUEsU0FBQSxDQUFVLE1BQVY7UUFDVixPQUFBLEdBQVU7ZUFDVixNQUFBLENBQU8sR0FBRyxDQUFDLFNBQUosQ0FBYyxPQUFkLENBQVAsQ0FBOEIsQ0FBQyxJQUEvQixDQUFvQyxJQUFwQztNQUhzQyxDQUF4QztNQUtBLEVBQUEsQ0FBRywrQkFBSCxFQUFvQyxTQUFBO0FBQ2xDLFlBQUE7UUFBQSxHQUFBLEdBQVUsSUFBQSxTQUFBLENBQVUsUUFBVjtRQUNWLE9BQUEsR0FBVTtlQUNWLE1BQUEsQ0FBTyxHQUFHLENBQUMsU0FBSixDQUFjLE9BQWQsQ0FBUCxDQUE4QixDQUFDLElBQS9CLENBQW9DLElBQXBDO01BSGtDLENBQXBDO01BS0EsRUFBQSxDQUFHLCtCQUFILEVBQW9DLFNBQUE7QUFDbEMsWUFBQTtRQUFBLEdBQUEsR0FBVSxJQUFBLFNBQUEsQ0FBVSxlQUFWO1FBQ1YsT0FBQSxHQUFVO2VB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QUE5QjtlQUNBLE1BQUEsQ0FBTyxNQUFNLENBQUMsdUJBQVAsQ0FBQSxDQUFnQyxDQUFDLE1BQXhDLENBQStDLENBQUMsSUFBaEQsQ0FBcUQsQ0FBckQ7TUFQK0IsQ0FBakM7TUFTQSxFQUFBLENBQUcsK0JBQUgsRUFBb0MsU0FBQTtRQUNsQyxNQUFNLENBQUMsT0FBUCxDQUFlLFVBQWY7UUFDQSxNQUFNLENBQUMsdUJBQVAsQ0FBK0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUEvQjtRQUVJLElBQUEsU0FBQSxDQUFVLFFBQVYsQ0FBbUIsQ0FBQyxPQUFwQixDQUFBO1FBRUosTUFBQSxDQUFPLE1BQU0sQ0FBQyxPQUFQLENBQUEsQ0FBUCxDQUF3QixDQUFDLElBQXpCLENBQThCLFFBQTlCO2VBQ0EsTUFBQSxDQUFPLE1BQU0sQ0FBQyx1QkFBUCxDQUFBLENBQWdDLENBQUMsTUFBeEMsQ0FBK0MsQ0FBQyxJQUFoRCxDQUFxRCxDQUFyRDtNQVBrQyxDQUFwQzthQVNBLEVBQUEsQ0FBRyxnQ0FBSCxFQUFxQyxTQUFBO1FBQ25DLE1BQU0sQ0FBQyxPQUFQLENBQWUsZ0JBQWY7UUFDQSxNQUFNLENBQUMsc0JBQVAsQ0FBOEIsQ0FBQyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUQsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQVQsQ0FBOUI7UUFFSSxJQUFBLFNBQUEsQ0FBVSxNQUFWLENBQWlCLENBQUMsT0FBbEIsQ0FBQTtRQUVKLE1BQUEsQ0FBTyxNQUFNLENBQUMsT0FBUCxDQUFBLENBQVAsQ0FBd0IsQ0FBQyxJQUF6QixDQUE4QixrQkFBOUI7ZUFDQSxNQUFBLENBQU8sTUFBTSxDQUFDLHVCQUFQLENBQUEsQ0FBZ0MsQ0FBQyxNQUF4QyxDQUErQyxDQUFDLElBQWhELENBQXFELEVBQXJEO01BUG1DLENBQXJDO0lBL0JtQixDQUFyQjtFQWpEb0IsQ0FBdEI7QUFGQSIsInNvdXJjZXNDb250ZW50IjpbIlN0eWxlVGV4dCA9IHJlcXVpcmUgXCIuLi8uLi9saWIvY29tbWFuZHMvc3R5bGUtdGV4dFwiXG5cbmRlc2NyaWJlIFwiU3R5bGVUZXh0XCIsIC0+XG4gIGRlc2NyaWJlIFwiLmlzU3R5bGVPblwiLCAtPlxuICAgIGl0IFwiY2hlY2sgYSBzdHlsZSBpcyBhZGRlZFwiLCAtPlxuICAgICAgY21kID0gbmV3IFN0eWxlVGV4dChcImJvbGRcIilcbiAgICAgIGZpeHR1cmUgPSBcIioqYm9sZCoqXCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImNoZWNrIGFueSBib2xkIHN0eWxlIGlzIGluIHN0cmluZ1wiLCAtPlxuICAgICAgY21kID0gbmV3IFN0eWxlVGV4dChcImJvbGRcIilcbiAgICAgIGZpeHR1cmUgPSBcImhlbGxvICoqYm9sZCoqIHdvcmxkXCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImNoZWNrIGFueSBpdGFsaWMgaXMgaW4gc3RyaW5nXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwiaXRhbGljXCIpXG4gICAgICBmaXh0dXJlID0gXCJfaXRhbGljXyB5YWggX3RleHRfXCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImNoZWNrIGFueSBzdHJpa2UgaXMgaW4gc3RyaW5nXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwic3RyaWtldGhyb3VnaFwiKVxuICAgICAgZml4dHVyZSA9IFwiKipib2xkKiogb25lIH5+c3RyaWtlfn4gdHdvIF9pdGFsaWNfXCJcbiAgICAgIGV4cGVjdChjbWQuaXNTdHlsZU9uKGZpeHR1cmUpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImNoZWNrIGEgc3R5bGUgaXMgbm90IGFkZGVkXCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwiYm9sZFwiKVxuICAgICAgZml4dHVyZSA9IFwiX25vdCBib2xkX1wiXG4gICAgICBleHBlY3QoY21kLmlzU3R5bGVPbihmaXh0dXJlKSkudG9CZShmYWxzZSlcblxuICBkZXNjcmliZSBcIi5yZW1vdmVTdHlsZVwiLCAtPlxuICAgIGl0IFwicmVtb3ZlIGEgc3R5bGUgZnJvbSB0ZXh0XCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwiaXRhbGljXCIpXG4gICAgICBmaXh0dXJlID0gXCJfaXRhbGljIHRleHRfXCJcbiAgICAgIGV4cGVjdChjbWQucmVtb3ZlU3R5bGUoZml4dHVyZSkpLnRvRXF1YWwoXCJpdGFsaWMgdGV4dFwiKVxuXG4gICAgaXQgXCJyZW1vdmUgYm9sZCBzdHlsZSBmcm9tIHRleHRcIiwgLT5cbiAgICAgIGNtZCA9IG5ldyBTdHlsZVRleHQoXCJib2xkXCIpXG4gICAgICBmaXh0dXJlID0gXCIqKmJvbGQgdGV4dCoqIGluIGEgc3RyaW5nXCJcbiAgICAgIGV4cGVjdChjbWQucmVtb3ZlU3R5bGUoZml4dHVyZSkpLnRvRXF1YWwoXCJib2xkIHRleHQgaW4gYSBzdHJpbmdcIilcblxuICAgIGl0IFwicmVtb3ZlIGl0YWxpYyBzdHlsZXMgZnJvbSB0ZXh0XCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwiaXRhbGljXCIpXG4gICAgICBmaXh0dXJlID0gXCJfaXRhbGljXyB5YWggX3RleHRfIGxvaCBfbW9yZV9cIlxuICAgICAgZXhwZWN0KGNtZC5yZW1vdmVTdHlsZShmaXh0dXJlKSkudG9FcXVhbChcIml0YWxpYyB5YWggdGV4dCBsb2ggbW9yZVwiKVxuXG4gIGRlc2NyaWJlIFwiLmFkZFN0eWxlXCIsIC0+XG4gICAgaXQgXCJhZGQgYSBzdHlsZSB0byB0ZXh0XCIsIC0+XG4gICAgICBjbWQgPSBuZXcgU3R5bGVUZXh0KFwiYm9sZFwiKVxuICAgICAgZml4dHVyZSA9IFwiYm9sZCB0ZXh0XCJcbiAgICAgIGV4cGVjdChjbWQuYWRkU3R5bGUoZml4dHVyZSkpLnRvRXF1YWwoXCIqKmJvbGQgdGV4dCoqXCIpXG5cbiAgZGVzY3JpYmUgXCIudHJpZ2dlclwiLCAtPlxuICAgIGVkaXRvciA9IG51bGxcblxuICAgIGJlZm9yZUVhY2ggLT5cbiAgICAgIHdhaXRzRm9yUHJvbWlzZSAtPiBhdG9tLndvcmtzcGFjZS5vcGVuKFwiZW1wdHkubWFya2Rvd25cIilcbiAgICAgIHJ1bnMgLT4gZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpXG5cbiAgICBpdCBcImluc2VydCBlbXB0eSBib2xkIHN0eWxlXCIsIC0+XG4gICAgICBuZXcgU3R5bGVUZXh0KFwiYm9sZFwiKS50cmlnZ2VyKClcblxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCIqKioqXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDIpXG5cbiAgICBpdCBcImFwcGx5IGl0YWxpYyBzdHlsZSB0byB3b3JkXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcIml0YWxpY1wiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAyXSlcblxuICAgICAgbmV3IFN0eWxlVGV4dChcIml0YWxpY1wiKS50cmlnZ2VyKClcblxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJfaXRhbGljX1wiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLmNvbHVtbikudG9CZSg4KVxuXG4gICAgaXQgXCJyZW1vdmUgaXRhbGljIHN0eWxlIGZyb20gd29yZFwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQoXCJfaXRhbGljX1wiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAzXSlcblxuICAgICAgbmV3IFN0eWxlVGV4dChcIml0YWxpY1wiKS50cmlnZ2VyKClcblxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJpdGFsaWNcIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS5jb2x1bW4pLnRvQmUoNilcblxuICAgIGl0IFwidG9nZ2xlIGNvZGUgc3R5bGUgb24gc2VsZWN0aW9uXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dChcInNvbWUgY29kZSBoZXJlXCIpXG4gICAgICBlZGl0b3Iuc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZShbWzAsIDVdLCBbMCwgOV1dKVxuXG4gICAgICBuZXcgU3R5bGVUZXh0KFwiY29kZVwiKS50cmlnZ2VyKClcblxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUoXCJzb21lIGBjb2RlYCBoZXJlXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkuY29sdW1uKS50b0JlKDExKVxuIl19
