(function() {
  var EditLine;

  EditLine = require("../../lib/commands/edit-line");

  describe("EditLine", function() {
    var editLine, editor, event, ref;
    ref = [], editor = ref[0], editLine = ref[1], event = ref[2];
    beforeEach(function() {
      waitsForPromise(function() {
        return atom.workspace.open("empty.markdown");
      });
      return runs(function() {
        editor = atom.workspace.getActiveTextEditor();
        event = {
          abortKeyBinding: function() {
            return {};
          }
        };
        return spyOn(event, "abortKeyBinding");
      });
    });
    describe("insertNewLine", function() {
      beforeEach(function() {
        return editLine = new EditLine("insert-new-line");
      });
      it("does not affect normal new line", function() {
        editor.setText("this is normal line");
        editor.setCursorBufferPosition([0, 4]);
        editLine.trigger(event);
        return expect(event.abortKeyBinding).toHaveBeenCalled();
      });
      it("continue if config inlineNewLineContinuation enabled", function() {
        atom.config.set("markdown-writer.inlineNewLineContinuation", true);
        editor.setText("- inline line");
        editor.setCursorBufferPosition([0, 8]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe("- inline\n-  line");
      });
      it("continue after unordered list line", function() {
        editor.setText("- line");
        editor.setCursorBufferPosition([0, 6]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["- line", "- "].join("\n"));
      });
      it("continue after ordered task list line", function() {
        editor.setText("1. [ ] Epic Tasks\n  1. [X] Sub-task A");
        editor.setCursorBufferPosition([1, 19]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["1. [ ] Epic Tasks", "  1. [X] Sub-task A", "  2. [ ] "].join("\n"));
      });
      it("continue after ordered task list line (without number continuation)", function() {
        atom.config.set("markdown-writer.orderedNewLineNumberContinuation", false);
        editor.setText("1. Epic Order One");
        editor.setCursorBufferPosition([0, 17]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["1. Epic Order One", "1. "].join("\n"));
      });
      it("continue after alpha ordered task list line", function() {
        editor.setText("1. [ ] Epic Tasks\n  y. [X] Sub-task A");
        editor.setCursorBufferPosition([1, 19]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["1. [ ] Epic Tasks", "  y. [X] Sub-task A", "  z. [ ] "].join("\n"));
      });
      it("continue after blockquote line", function() {
        editor.setText("> Your time is limited, so don’t waste it living someone else’s life.");
        editor.setCursorBufferPosition([0, 69]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["> Your time is limited, so don’t waste it living someone else’s life.", "> "].join("\n"));
      });
      it("not continue after empty unordered task list line", function() {
        editor.setText("- [ ]");
        editor.setCursorBufferPosition([0, 5]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["", ""].join("\n"));
      });
      it("not continue after empty ordered list line", function() {
        editor.setText(["1. [ ] parent", "  - child", "  - "].join("\n"));
        editor.setCursorBufferPosition([2, 4]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["1. [ ] parent", "  - child", "2. [ ] "].join("\n"));
      });
      return it("not continue after empty ordered paragraph", function() {
        editor.setText(["1. parent", "  - child has a paragraph", "", "    paragraph one", "", "    paragraph two", "", "  - "].join("\n"));
        editor.setCursorBufferPosition([7, 4]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["1. parent", "  - child has a paragraph", "", "    paragraph one", "", "    paragraph two", "", "2. "].join("\n"));
      });
    });
    describe("insertNewLine (Table)", function() {
      beforeEach(function() {
        editLine = new EditLine("insert-new-line");
        return editor.setText(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "a | b | c", "  |   |  "].join("\n"));
      });
      it("continue after table separator", function() {
        editor.setCursorBufferPosition([6, 5]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "  |   |  ", "a | b | c", "a | b | c", "  |   |  "].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(7, 0)");
      });
      it("continue after table rows", function() {
        editor.setCursorBufferPosition([1, 9]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "  |   |  ", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "a | b | c", "  |   |  "].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(2, 0)");
      });
      it("continue in a table row", function() {
        editor.setCursorBufferPosition([7, 3]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "  |   |  ", "a | b | c", "  |   |  "].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(8, 0)");
      });
      it("not continue after empty table row", function() {
        editor.setCursorBufferPosition([9, 8]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "a | b | c", "", ""].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(10, 0)");
      });
      it("has not effect at table head", function() {
        editor.setCursorBufferPosition([5, 9]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "a | b | c", "  |   |  "].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(5, 9)");
      });
      return it("has not effect at random line", function() {
        editor.setCursorBufferPosition([3, 9]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["a | b | c", "a | b | c", "", "random line | with bar", "", "a | b | c", "--|---|--", "a | b | c", "a | b | c", "  |   |  "].join("\n"));
        return expect(editor.getCursorBufferPosition().toString()).toBe("(3, 9)");
      });
    });
    return describe("indentListLine", function() {
      beforeEach(function() {
        return editLine = new EditLine("indent-list-line");
      });
      it("indent line if it is at head of line", function() {
        editor.setText("  normal line");
        editor.setCursorBufferPosition([0, 1]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe("    normal line");
      });
      it("indent line if it is an unordered list", function() {
        editor.setText("- list");
        editor.setCursorBufferPosition([0, 5]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe("  - list");
      });
      it("indent line if it is an ordered list", function() {
        editor.setText("3. list");
        editor.setCursorBufferPosition([0, 5]);
        editLine.trigger(event);
        return expect(editor.getText()).toBe("  1. list");
      });
      it("indent long line if it is an ordered list", function() {
        editor.setText(["3. Consider a (ordered or unordered) markdown list. On pressing tab to indent the item, if the item spans over more than one line, then the text of the item alters. See the below gif in https://github.com/zhuochun/md-writer/issues/222", "", "This behaviour is not observed when the list item does not extend to the next line."].join("\n"));
        editor.setCursorBufferPosition([0, 5]);
        editLine.trigger(event);
        expect(editor.getText()).toBe(["  1. Consider a (ordered or unordered) markdown list. On pressing tab to indent the item, if the item spans over more than one line, then the text of the item alters. See the below gif in https://github.com/zhuochun/md-writer/issues/222", "", "This behaviour is not observed when the list item does not extend to the next line."].join("\n"));
        editLine.trigger(event);
        return expect(editor.getText()).toBe(["    1. Consider a (ordered or unordered) markdown list. On pressing tab to indent the item, if the item spans over more than one line, then the text of the item alters. See the below gif in https://github.com/zhuochun/md-writer/issues/222", "", "This behaviour is not observed when the list item does not extend to the next line."].join("\n"));
      });
      return it("insert space if it is text", function() {
        editor.setText("texttext");
        editor.setCursorBufferPosition([0, 4]);
        editLine.trigger(event);
        return expect(event.abortKeyBinding).toHaveBeenCalled();
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbWFya2Rvd24td3JpdGVyL3NwZWMvY29tbWFuZHMvZWRpdC1saW5lLXNwZWMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQTs7RUFBQSxRQUFBLEdBQVcsT0FBQSxDQUFRLDhCQUFSOztFQUVYLFFBQUEsQ0FBUyxVQUFULEVBQXFCLFNBQUE7QUFDbkIsUUFBQTtJQUFBLE1BQTRCLEVBQTVCLEVBQUMsZUFBRCxFQUFTLGlCQUFULEVBQW1CO0lBRW5CLFVBQUEsQ0FBVyxTQUFBO01BQ1QsZUFBQSxDQUFnQixTQUFBO2VBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFmLENBQW9CLGdCQUFwQjtNQUFILENBQWhCO2FBQ0EsSUFBQSxDQUFLLFNBQUE7UUFDSCxNQUFBLEdBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBZixDQUFBO1FBRVQsS0FBQSxHQUFRO1VBQUUsZUFBQSxFQUFpQixTQUFBO21CQUFHO1VBQUgsQ0FBbkI7O2VBQ1IsS0FBQSxDQUFNLEtBQU4sRUFBYSxpQkFBYjtNQUpHLENBQUw7SUFGUyxDQUFYO0lBUUEsUUFBQSxDQUFTLGVBQVQsRUFBMEIsU0FBQTtNQUN4QixVQUFBLENBQVcsU0FBQTtlQUFHLFFBQUEsR0FBZSxJQUFBLFFBQUEsQ0FBUyxpQkFBVDtNQUFsQixDQUFYO01BRUEsRUFBQSxDQUFHLGlDQUFILEVBQXNDLFNBQUE7UUFDcEMsTUFBTSxDQUFDLE9BQVAsQ0FBZSxxQkFBZjtRQUNBLE1BQU0sQ0FBQyx1QkFBUCxDQUErQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQS9CO1FBRUEsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsS0FBakI7ZUFDQSxNQUFBLENBQU8sS0FBSyxDQUFDLGVBQWIsQ0FBNkIsQ0FBQyxnQkFBOUIsQ0FBQTtNQUxvQyxDQUF0QztNQU9BLEVBQUEsQ0FBRyxzREFBSCxFQUEyRCxTQUFB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QWY7UUFDQSxNQUFNLENBQUMsdUJBQVAsQ0FBK0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUEvQjtRQUVBLFFBQVEsQ0FBQyxPQUFULENBQWlCLEtBQWpCO2VBQ0EsTUFBQSxDQUFPLEtBQUssQ0FBQyxlQUFiLENBQTZCLENBQUMsZ0JBQTlCLENBQUE7TUFMK0IsQ0FBakM7SUEvQ3lCLENBQTNCO0VBbFJtQixDQUFyQjtBQUZBIiwic291cmNlc0NvbnRlbnQiOlsiRWRpdExpbmUgPSByZXF1aXJlIFwiLi4vLi4vbGliL2NvbW1hbmRzL2VkaXQtbGluZVwiXG5cbmRlc2NyaWJlIFwiRWRpdExpbmVcIiwgLT5cbiAgW2VkaXRvciwgZWRpdExpbmUsIGV2ZW50XSA9IFtdXG5cbiAgYmVmb3JlRWFjaCAtPlxuICAgIHdhaXRzRm9yUHJvbWlzZSAtPiBhdG9tLndvcmtzcGFjZS5vcGVuKFwiZW1wdHkubWFya2Rvd25cIilcbiAgICBydW5zIC0+XG4gICAgICBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcblxuICAgICAgZXZlbnQgPSB7IGFib3J0S2V5QmluZGluZzogLT4ge30gfVxuICAgICAgc3B5T24oZXZlbnQsIFwiYWJvcnRLZXlCaW5kaW5nXCIpXG5cbiAgZGVzY3JpYmUgXCJpbnNlcnROZXdMaW5lXCIsIC0+XG4gICAgYmVmb3JlRWFjaCAtPiBlZGl0TGluZSA9IG5ldyBFZGl0TGluZShcImluc2VydC1uZXctbGluZVwiKVxuXG4gICAgaXQgXCJkb2VzIG5vdCBhZmZlY3Qgbm9ybWFsIG5ldyBsaW5lXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcInRoaXMgaXMgbm9ybWFsIGxpbmVcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA0XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChldmVudC5hYm9ydEtleUJpbmRpbmcpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuXG4gICAgaXQgXCJjb250aW51ZSBpZiBjb25maWcgaW5saW5lTmV3TGluZUNvbnRpbnVhdGlvbiBlbmFibGVkXCIsIC0+XG4gICAgICBhdG9tLmNvbmZpZy5zZXQoXCJtYXJrZG93bi13cml0ZXIuaW5saW5lTmV3TGluZUNvbnRpbnVhdGlvblwiLCB0cnVlKVxuXG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIi0gaW5saW5lIGxpbmVcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA4XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlIFwiXCJcIlxuICAgICAgLSBpbmxpbmVcbiAgICAgIC0gIGxpbmVcbiAgICAgIFwiXCJcIlxuXG4gICAgaXQgXCJjb250aW51ZSBhZnRlciB1bm9yZGVyZWQgbGlzdCBsaW5lXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIi0gbGluZVwiXG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzAsIDZdKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcIi0gbGluZVwiXG4gICAgICAgIFwiLSBcIiAjIGxhc3QgaXRlbSB3aXRoIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgIF0uam9pbihcIlxcblwiKVxuXG4gICAgaXQgXCJjb250aW51ZSBhZnRlciBvcmRlcmVkIHRhc2sgbGlzdCBsaW5lXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIlwiXCJcbiAgICAgIDEuIFsgXSBFcGljIFRhc2tzXG4gICAgICAgIDEuIFtYXSBTdWItdGFzayBBXG4gICAgICBcIlwiXCJcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMSwgMTldKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcIjEuIFsgXSBFcGljIFRhc2tzXCJcbiAgICAgICAgXCIgIDEuIFtYXSBTdWItdGFzayBBXCJcbiAgICAgICAgXCIgIDIuIFsgXSBcIiAjIGxhc3QgaXRlbSB3aXRoIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgIF0uam9pbihcIlxcblwiKVxuXG4gICAgaXQgXCJjb250aW51ZSBhZnRlciBvcmRlcmVkIHRhc2sgbGlzdCBsaW5lICh3aXRob3V0IG51bWJlciBjb250aW51YXRpb24pXCIsIC0+XG4gICAgICBhdG9tLmNvbmZpZy5zZXQoXCJtYXJrZG93bi13cml0ZXIub3JkZXJlZE5ld0xpbmVOdW1iZXJDb250aW51YXRpb25cIiwgZmFsc2UpXG5cbiAgICAgIGVkaXRvci5zZXRUZXh0IFwiXCJcIlxuICAgICAgMS4gRXBpYyBPcmRlciBPbmVcbiAgICAgIFwiXCJcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAxN10pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiMS4gRXBpYyBPcmRlciBPbmVcIlxuICAgICAgICBcIjEuIFwiICMgbGFzdCBpdGVtIHdpdGggdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgXS5qb2luKFwiXFxuXCIpXG5cbiAgICBpdCBcImNvbnRpbnVlIGFmdGVyIGFscGhhIG9yZGVyZWQgdGFzayBsaXN0IGxpbmVcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRUZXh0IFwiXCJcIlxuICAgICAgMS4gWyBdIEVwaWMgVGFza3NcbiAgICAgICAgeS4gW1hdIFN1Yi10YXNrIEFcbiAgICAgIFwiXCJcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFsxLCAxOV0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiMS4gWyBdIEVwaWMgVGFza3NcIlxuICAgICAgICBcIiAgeS4gW1hdIFN1Yi10YXNrIEFcIlxuICAgICAgICBcIiAgei4gWyBdIFwiICMgbGFzdCBpdGVtIHdpdGggdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgXS5qb2luKFwiXFxuXCIpXG5cbiAgICBpdCBcImNvbnRpbnVlIGFmdGVyIGJsb2NrcXVvdGUgbGluZVwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCJcIlwiXG4gICAgICA+IFlvdXIgdGltZSBpcyBsaW1pdGVkLCBzbyBkb27igJl0IHdhc3RlIGl0IGxpdmluZyBzb21lb25lIGVsc2XigJlzIGxpZmUuXG4gICAgICBcIlwiXCJcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgNjldKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcIj4gWW91ciB0aW1lIGlzIGxpbWl0ZWQsIHNvIGRvbuKAmXQgd2FzdGUgaXQgbGl2aW5nIHNvbWVvbmUgZWxzZeKAmXMgbGlmZS5cIlxuICAgICAgICBcIj4gXCIgIyBsYXN0IGl0ZW0gd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICBdLmpvaW4oXCJcXG5cIilcblxuICAgIGl0IFwibm90IGNvbnRpbnVlIGFmdGVyIGVtcHR5IHVub3JkZXJlZCB0YXNrIGxpc3QgbGluZVwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCJcIlwiXG4gICAgICAtIFsgXVxuICAgICAgXCJcIlwiXG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzAsIDVdKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1wiXCIsIFwiXCJdLmpvaW4oXCJcXG5cIilcblxuICAgIGl0IFwibm90IGNvbnRpbnVlIGFmdGVyIGVtcHR5IG9yZGVyZWQgbGlzdCBsaW5lXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBbXG4gICAgICAgIFwiMS4gWyBdIHBhcmVudFwiXG4gICAgICAgIFwiICAtIGNoaWxkXCJcbiAgICAgICAgXCIgIC0gXCIgIyBsYXN0IGl0ZW0gd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICBdLmpvaW4oXCJcXG5cIilcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMiwgNF0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiMS4gWyBdIHBhcmVudFwiXG4gICAgICAgIFwiICAtIGNoaWxkXCJcbiAgICAgICAgXCIyLiBbIF0gXCIgIyBsYXN0IGl0ZW0gd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICBdLmpvaW4oXCJcXG5cIilcblxuICAgIGl0IFwibm90IGNvbnRpbnVlIGFmdGVyIGVtcHR5IG9yZGVyZWQgcGFyYWdyYXBoXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBbXG4gICAgICAgIFwiMS4gcGFyZW50XCJcbiAgICAgICAgXCIgIC0gY2hpbGQgaGFzIGEgcGFyYWdyYXBoXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcIiAgICBwYXJhZ3JhcGggb25lXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcIiAgICBwYXJhZ3JhcGggdHdvXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcIiAgLSBcIiAjIGxhc3QgaXRlbSB3aXRoIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgIF0uam9pbihcIlxcblwiKVxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFs3LCA0XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlIFtcbiAgICAgICAgXCIxLiBwYXJlbnRcIlxuICAgICAgICBcIiAgLSBjaGlsZCBoYXMgYSBwYXJhZ3JhcGhcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwiICAgIHBhcmFncmFwaCBvbmVcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwiICAgIHBhcmFncmFwaCB0d29cIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwiMi4gXCIgIyBsYXN0IGl0ZW0gd2l0aCB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICBdLmpvaW4oXCJcXG5cIilcblxuICBkZXNjcmliZSBcImluc2VydE5ld0xpbmUgKFRhYmxlKVwiLCAtPlxuICAgIGJlZm9yZUVhY2ggLT5cbiAgICAgIGVkaXRMaW5lID0gbmV3IEVkaXRMaW5lKFwiaW5zZXJ0LW5ldy1saW5lXCIpXG4gICAgICBlZGl0b3Iuc2V0VGV4dCBbXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwicmFuZG9tIGxpbmUgfCB3aXRoIGJhclwiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIi0tfC0tLXwtLVwiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIiAgfCAgIHwgIFwiXG4gICAgICBdLmpvaW4oXCJcXG5cIilcblxuICAgIGl0IFwiY29udGludWUgYWZ0ZXIgdGFibGUgc2VwYXJhdG9yXCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzYsIDVdKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcInJhbmRvbSBsaW5lIHwgd2l0aCBiYXJcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCItLXwtLS18LS1cIlxuICAgICAgICBcIiAgfCAgIHwgIFwiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIiAgfCAgIHwgIFwiXG4gICAgICBdLmpvaW4oXCJcXG5cIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS50b1N0cmluZygpKS50b0JlKFwiKDcsIDApXCIpXG5cbiAgICBpdCBcImNvbnRpbnVlIGFmdGVyIHRhYmxlIHJvd3NcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMSwgOV0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIiAgfCAgIHwgIFwiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJyYW5kb20gbGluZSB8IHdpdGggYmFyXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiLS18LS0tfC0tXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiICB8ICAgfCAgXCJcbiAgICAgIF0uam9pbihcIlxcblwiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLnRvU3RyaW5nKCkpLnRvQmUoXCIoMiwgMClcIilcblxuICAgIGl0IFwiY29udGludWUgaW4gYSB0YWJsZSByb3dcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbNywgM10pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwicmFuZG9tIGxpbmUgfCB3aXRoIGJhclwiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIi0tfC0tLXwtLVwiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCIgIHwgICB8ICBcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiICB8ICAgfCAgXCJcbiAgICAgIF0uam9pbihcIlxcblwiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLnRvU3RyaW5nKCkpLnRvQmUoXCIoOCwgMClcIilcblxuICAgIGl0IFwibm90IGNvbnRpbnVlIGFmdGVyIGVtcHR5IHRhYmxlIHJvd1wiLCAtPlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFs5LCA4XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlIFtcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJyYW5kb20gbGluZSB8IHdpdGggYmFyXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiLS18LS0tfC0tXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJcIlxuICAgICAgXS5qb2luKFwiXFxuXCIpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkudG9TdHJpbmcoKSkudG9CZShcIigxMCwgMClcIilcblxuICAgIGl0IFwiaGFzIG5vdCBlZmZlY3QgYXQgdGFibGUgaGVhZFwiLCAtPlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFs1LCA5XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlIFtcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJyYW5kb20gbGluZSB8IHdpdGggYmFyXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiLS18LS0tfC0tXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcImEgfCBiIHwgY1wiXG4gICAgICAgIFwiICB8ICAgfCAgXCJcbiAgICAgIF0uam9pbihcIlxcblwiKVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLnRvU3RyaW5nKCkpLnRvQmUoXCIoNSwgOSlcIilcblxuICAgIGl0IFwiaGFzIG5vdCBlZmZlY3QgYXQgcmFuZG9tIGxpbmVcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMywgOV0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSBbXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwicmFuZG9tIGxpbmUgfCB3aXRoIGJhclwiXG4gICAgICAgIFwiXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIi0tfC0tLXwtLVwiXG4gICAgICAgIFwiYSB8IGIgfCBjXCJcbiAgICAgICAgXCJhIHwgYiB8IGNcIlxuICAgICAgICBcIiAgfCAgIHwgIFwiXG4gICAgICBdLmpvaW4oXCJcXG5cIilcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKS50b1N0cmluZygpKS50b0JlKFwiKDMsIDkpXCIpXG5cbiAgZGVzY3JpYmUgXCJpbmRlbnRMaXN0TGluZVwiLCAtPlxuICAgIGJlZm9yZUVhY2ggLT4gZWRpdExpbmUgPSBuZXcgRWRpdExpbmUoXCJpbmRlbnQtbGlzdC1saW5lXCIpXG5cbiAgICBpdCBcImluZGVudCBsaW5lIGlmIGl0IGlzIGF0IGhlYWQgb2YgbGluZVwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCIgIG5vcm1hbCBsaW5lXCJcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgMV0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZShcIiAgICBub3JtYWwgbGluZVwiKVxuXG4gICAgaXQgXCJpbmRlbnQgbGluZSBpZiBpdCBpcyBhbiB1bm9yZGVyZWQgbGlzdFwiLCAtPlxuICAgICAgZWRpdG9yLnNldFRleHQgXCItIGxpc3RcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA1XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwiICAtIGxpc3RcIilcblxuICAgIGl0IFwiaW5kZW50IGxpbmUgaWYgaXQgaXMgYW4gb3JkZXJlZCBsaXN0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIjMuIGxpc3RcIlxuICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA1XSlcblxuICAgICAgZWRpdExpbmUudHJpZ2dlcihldmVudClcbiAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKFwiICAxLiBsaXN0XCIpXG5cbiAgICBpdCBcImluZGVudCBsb25nIGxpbmUgaWYgaXQgaXMgYW4gb3JkZXJlZCBsaXN0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBbXG4gICAgICAgICAgXCIzLiBDb25zaWRlciBhIChvcmRlcmVkIG9yIHVub3JkZXJlZCkgbWFya2Rvd24gbGlzdC4gT24gcHJlc3NpbmcgdGFiIHRvIGluZGVudCB0aGUgaXRlbSwgaWYgdGhlIGl0ZW0gc3BhbnMgb3ZlciBtb3JlIHRoYW4gb25lIGxpbmUsIHRoZW4gdGhlIHRleHQgb2YgdGhlIGl0ZW0gYWx0ZXJzLiBTZWUgdGhlIGJlbG93IGdpZiBpbiBodHRwczovL2dpdGh1Yi5jb20vemh1b2NodW4vbWQtd3JpdGVyL2lzc3Vlcy8yMjJcIlxuICAgICAgICAgIFwiXCJcbiAgICAgICAgICBcIlRoaXMgYmVoYXZpb3VyIGlzIG5vdCBvYnNlcnZlZCB3aGVuIHRoZSBsaXN0IGl0ZW0gZG9lcyBub3QgZXh0ZW5kIHRvIHRoZSBuZXh0IGxpbmUuXCJcbiAgICAgICAgXS5qb2luKFwiXFxuXCIpXG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzAsIDVdKVxuXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcIiAgMS4gQ29uc2lkZXIgYSAob3JkZXJlZCBvciB1bm9yZGVyZWQpIG1hcmtkb3duIGxpc3QuIE9uIHByZXNzaW5nIHRhYiB0byBpbmRlbnQgdGhlIGl0ZW0sIGlmIHRoZSBpdGVtIHNwYW5zIG92ZXIgbW9yZSB0aGFuIG9uZSBsaW5lLCB0aGVuIHRoZSB0ZXh0IG9mIHRoZSBpdGVtIGFsdGVycy4gU2VlIHRoZSBiZWxvdyBnaWYgaW4gaHR0cHM6Ly9naXRodWIuY29tL3podW9jaHVuL21kLXdyaXRlci9pc3N1ZXMvMjIyXCJcbiAgICAgICAgXCJcIlxuICAgICAgICBcIlRoaXMgYmVoYXZpb3VyIGlzIG5vdCBvYnNlcnZlZCB3aGVuIHRoZSBsaXN0IGl0ZW0gZG9lcyBub3QgZXh0ZW5kIHRvIHRoZSBuZXh0IGxpbmUuXCJcbiAgICAgIF0uam9pbihcIlxcblwiKVxuXG4gICAgICAjIGluZGVudCBvbmUgbW9yZSB0aW1lXG4gICAgICBlZGl0TGluZS50cmlnZ2VyKGV2ZW50KVxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgW1xuICAgICAgICBcIiAgICAxLiBDb25zaWRlciBhIChvcmRlcmVkIG9yIHVub3JkZXJlZCkgbWFya2Rvd24gbGlzdC4gT24gcHJlc3NpbmcgdGFiIHRvIGluZGVudCB0aGUgaXRlbSwgaWYgdGhlIGl0ZW0gc3BhbnMgb3ZlciBtb3JlIHRoYW4gb25lIGxpbmUsIHRoZW4gdGhlIHRleHQgb2YgdGhlIGl0ZW0gYWx0ZXJzLiBTZWUgdGhlIGJlbG93IGdpZiBpbiBodHRwczovL2dpdGh1Yi5jb20vemh1b2NodW4vbWQtd3JpdGVyL2lzc3Vlcy8yMjJcIlxuICAgICAgICBcIlwiXG4gICAgICAgIFwiVGhpcyBiZWhhdmlvdXIgaXMgbm90IG9ic2VydmVkIHdoZW4gdGhlIGxpc3QgaXRlbSBkb2VzIG5vdCBleHRlbmQgdG8gdGhlIG5leHQgbGluZS5cIlxuICAgICAgXS5qb2luKFwiXFxuXCIpXG5cbiAgICBpdCBcImluc2VydCBzcGFjZSBpZiBpdCBpcyB0ZXh0XCIsIC0+XG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcInRleHR0ZXh0XCJcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgNF0pXG5cbiAgICAgIGVkaXRMaW5lLnRyaWdnZXIoZXZlbnQpXG4gICAgICBleHBlY3QoZXZlbnQuYWJvcnRLZXlCaW5kaW5nKS50b0hhdmVCZWVuQ2FsbGVkKClcbiJdfQ==
