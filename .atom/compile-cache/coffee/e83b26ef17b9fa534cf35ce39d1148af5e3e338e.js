(function() {
  var FrontMatter;

  FrontMatter = require("../../lib/helpers/front-matter");

  describe("FrontMatter", function() {
    beforeEach(function() {
      return waitsForPromise(function() {
        return atom.workspace.open("front-matter.markdown");
      });
    });
    describe("editor without front matter", function() {
      var editor;
      editor = null;
      beforeEach(function() {
        return editor = atom.workspace.getActiveTextEditor();
      });
      it("is empty when editor is empty", function() {
        var frontMatter;
        frontMatter = new FrontMatter(editor);
        expect(frontMatter.isEmpty).toBe(true);
        return expect(frontMatter.content).toEqual({});
      });
      it("is empty when editor has no front matter", function() {
        var frontMatter;
        editor.setText("some random text 1\nsome random text 2");
        frontMatter = new FrontMatter(editor);
        expect(frontMatter.isEmpty).toBe(true);
        return expect(frontMatter.content).toEqual({});
      });
      return it("is empty when editor has invalid front matter", function() {
        var frontMatter;
        editor.setText("---\n---\n\nsome random text 1\nsome random text 2");
        frontMatter = new FrontMatter(editor);
        expect(frontMatter.isEmpty).toBe(true);
        return expect(frontMatter.content).toEqual({});
      });
    });
    describe("editor with jekyll front matter", function() {
      var editor, frontMatter, ref;
      ref = [], editor = ref[0], frontMatter = ref[1];
      beforeEach(function() {
        editor = atom.workspace.getActiveTextEditor();
        editor.setText("---\ntitle: Markdown Writer (Jekyll)\ndate: 2015-08-12 23:19\ncategories: Markdown\ntags:\n  - Writer\n  - Jekyll\n---\n\nsome random text 1\nsome random text 2");
        return frontMatter = new FrontMatter(editor);
      });
      it("is not empty", function() {
        return expect(frontMatter.isEmpty).toBe(false);
      });
      it("has fields", function() {
        expect(frontMatter.has("title")).toBe(true);
        expect(frontMatter.has("date")).toBe(true);
        expect(frontMatter.has("categories")).toBe(true);
        return expect(frontMatter.has("tags")).toBe(true);
      });
      it("get field value", function() {
        expect(frontMatter.get("title")).toBe("Markdown Writer (Jekyll)");
        return expect(frontMatter.get("date")).toBe("2015-08-12 23:19");
      });
      it("set field value", function() {
        frontMatter.set("title", "Markdown Writer");
        return expect(frontMatter.get("title")).toBe("Markdown Writer");
      });
      it("normalize field to an array", function() {
        expect(frontMatter.normalizeField("field")).toEqual([]);
        expect(frontMatter.normalizeField("categories")).toEqual(["Markdown"]);
        return expect(frontMatter.normalizeField("tags")).toEqual(["Writer", "Jekyll"]);
      });
      it("get content text with leading fence", function() {
        return expect(frontMatter.getContentText()).toBe("---\ntitle: Markdown Writer (Jekyll)\ndate: '2015-08-12 23:19'\ncategories: Markdown\ntags:\n  - Writer\n  - Jekyll\n---\n");
      });
      return it("save the content to editor", function() {
        frontMatter.save();
        return expect(editor.getText()).toBe("---\ntitle: Markdown Writer (Jekyll)\ndate: '2015-08-12 23:19'\ncategories: Markdown\ntags:\n  - Writer\n  - Jekyll\n---\n\nsome random text 1\nsome random text 2");
      });
    });
    return describe("editor with hexo front matter", function() {
      var editor, frontMatter, ref;
      ref = [], editor = ref[0], frontMatter = ref[1];
      beforeEach(function() {
        editor = atom.workspace.getActiveTextEditor();
        editor.setText("title: Markdown Writer (Hexo)\ndate: 2015-08-12 23:19\n---\n\nsome random text 1\nsome random text 2");
        return frontMatter = new FrontMatter(editor);
      });
      it("is not empty", function() {
        return expect(frontMatter.isEmpty).toBe(false);
      });
      it("has field title/date", function() {
        expect(frontMatter.has("title")).toBe(true);
        return expect(frontMatter.has("date")).toBe(true);
      });
      it("get field value", function() {
        expect(frontMatter.get("title")).toBe("Markdown Writer (Hexo)");
        return expect(frontMatter.get("date")).toBe("2015-08-12 23:19");
      });
      return it("get content text without leading fence", function() {
        return expect(frontMatter.getContentText()).toBe("title: Markdown Writer (Hexo)\ndate: '2015-08-12 23:19'\n---\n");
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvamVzdXMvLmF0b20vcGFja2FnZXMvbWFya2Rvd24td3JpdGVyL3NwZWMvaGVscGVycy9mcm9udC1tYXR0ZXItc3BlYy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLFdBQUEsR0FBYyxPQUFBLENBQVEsZ0NBQVI7O0VBRWQsUUFBQSxDQUFTLGFBQVQsRUFBd0IsU0FBQTtJQUN0QixVQUFBLENBQVcsU0FBQTthQUNULGVBQUEsQ0FBZ0IsU0FBQTtlQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBZixDQUFvQix1QkFBcEI7TUFBSCxDQUFoQjtJQURTLENBQVg7SUFHQSxRQUFBLENBQVMsNkJBQVQsRUFBd0MsU0FBQTtBQUN0QyxVQUFBO01BQUEsTUFBQSxHQUFTO01BRVQsVUFBQSxDQUFXLFNBQUE7ZUFDVCxNQUFBLEdBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBZixDQUFBO01BREEsQ0FBWDtNQUdBLEVBQUEsQ0FBRywrQkFBSCxFQUFvQyxTQUFBO0FBQ2xDLFlBQUE7UUFBQSxXQUFBLEdBQWtCLElBQUEsV0FBQSxDQUFZLE1BQVo7UUFDbEIsTUFBQSxDQUFPLFdBQVcsQ0FBQyxPQUFuQixDQUEyQixDQUFDLElBQTVCLENBQWlDLElBQWpDO2VBQ0EsTUFBQSxDQUFPLFdBQVcsQ0FBQyxPQUFuQixDQUEyQixDQUFDLE9BQTVCLENBQW9DLEVBQXBDO01BSGtDLENBQXBDO01BS0EsRUFBQSxDQUFHLDBDQUFILEVBQStDLFNBQUE7QUFDN0MsWUFBQTtRQUFBLE1BQU0sQ0FBQyxPQUFQLENBQWUsd0NBQWY7UUFLQSxXQUFBLEdBQWtCLElBQUEsV0FBQSxDQUFZLE1BQVo7UUFDbEIsTUFBQSxDQUFPLFdBQVcsQ0FBQyxPQUFuQixDQUEyQixDQUFDLElBQTVCLENBQWlDLElBQWpDO2VBQ0EsTUFBQSxDQUFPLFdBQVcsQ0FBQyxPQUFuQixDQUEyQixDQUFD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QXJDLENBQTBDLGdFQUExQztNQUQyQyxDQUE3QztJQTFCd0MsQ0FBMUM7RUEvR3NCLENBQXhCO0FBRkEiLCJzb3VyY2VzQ29udGVudCI6WyJGcm9udE1hdHRlciA9IHJlcXVpcmUgXCIuLi8uLi9saWIvaGVscGVycy9mcm9udC1tYXR0ZXJcIlxuXG5kZXNjcmliZSBcIkZyb250TWF0dGVyXCIsIC0+XG4gIGJlZm9yZUVhY2ggLT5cbiAgICB3YWl0c0ZvclByb21pc2UgLT4gYXRvbS53b3Jrc3BhY2Uub3BlbihcImZyb250LW1hdHRlci5tYXJrZG93blwiKVxuXG4gIGRlc2NyaWJlIFwiZWRpdG9yIHdpdGhvdXQgZnJvbnQgbWF0dGVyXCIsIC0+XG4gICAgZWRpdG9yID0gbnVsbFxuXG4gICAgYmVmb3JlRWFjaCAtPlxuICAgICAgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpXG5cbiAgICBpdCBcImlzIGVtcHR5IHdoZW4gZWRpdG9yIGlzIGVtcHR5XCIsIC0+XG4gICAgICBmcm9udE1hdHRlciA9IG5ldyBGcm9udE1hdHRlcihlZGl0b3IpXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuaXNFbXB0eSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmNvbnRlbnQpLnRvRXF1YWwoe30pXG5cbiAgICBpdCBcImlzIGVtcHR5IHdoZW4gZWRpdG9yIGhhcyBubyBmcm9udCBtYXR0ZXJcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRUZXh0IFwiXCJcIlxuICAgICAgICBzb21lIHJhbmRvbSB0ZXh0IDFcbiAgICAgICAgc29tZSByYW5kb20gdGV4dCAyXG4gICAgICBcIlwiXCJcblxuICAgICAgZnJvbnRNYXR0ZXIgPSBuZXcgRnJvbnRNYXR0ZXIoZWRpdG9yKVxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmlzRW1wdHkpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5jb250ZW50KS50b0VxdWFsKHt9KVxuXG4gICAgaXQgXCJpcyBlbXB0eSB3aGVuIGVkaXRvciBoYXMgaW52YWxpZCBmcm9udCBtYXR0ZXJcIiwgLT5cbiAgICAgIGVkaXRvci5zZXRUZXh0IFwiXCJcIlxuICAgICAgICAtLS1cbiAgICAgICAgLS0tXG5cbiAgICAgICAgc29tZSByYW5kb20gdGV4dCAxXG4gICAgICAgIHNvbWUgcmFuZG9tIHRleHQgMlxuICAgICAgXCJcIlwiXG5cbiAgICAgIGZyb250TWF0dGVyID0gbmV3IEZyb250TWF0dGVyKGVkaXRvcilcbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5pc0VtcHR5KS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuY29udGVudCkudG9FcXVhbCh7fSlcblxuICBkZXNjcmliZSBcImVkaXRvciB3aXRoIGpla3lsbCBmcm9udCBtYXR0ZXJcIiwgLT5cbiAgICBbZWRpdG9yLCBmcm9udE1hdHRlcl0gPSBbXVxuXG4gICAgYmVmb3JlRWFjaCAtPlxuICAgICAgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpXG4gICAgICBlZGl0b3Iuc2V0VGV4dCBcIlwiXCJcbiAgICAgICAgLS0tXG4gICAgICAgIHRpdGxlOiBNYXJrZG93biBXcml0ZXIgKEpla3lsbClcbiAgICAgICAgZGF0ZTogMjAxNS0wOC0xMiAyMzoxOVxuICAgICAgICBjYXRlZ29yaWVzOiBNYXJrZG93blxuICAgICAgICB0YWdzOlxuICAgICAgICAgIC0gV3JpdGVyXG4gICAgICAgICAgLSBKZWt5bGxcbiAgICAgICAgLS0tXG5cbiAgICAgICAgc29tZSByYW5kb20gdGV4dCAxXG4gICAgICAgIHNvbWUgcmFuZG9tIHRleHQgMlxuICAgICAgXCJcIlwiXG5cbiAgICAgIGZyb250TWF0dGVyID0gbmV3IEZyb250TWF0dGVyKGVkaXRvcilcblxuICAgIGl0IFwiaXMgbm90IGVtcHR5XCIsIC0+XG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuaXNFbXB0eSkudG9CZShmYWxzZSlcblxuICAgIGl0IFwiaGFzIGZpZWxkc1wiLCAtPlxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmhhcyhcInRpdGxlXCIpKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuaGFzKFwiZGF0ZVwiKSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmhhcyhcImNhdGVnb3JpZXNcIikpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5oYXMoXCJ0YWdzXCIpKS50b0JlKHRydWUpXG5cbiAgICBpdCBcImdldCBmaWVsZCB2YWx1ZVwiLCAtPlxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmdldChcInRpdGxlXCIpKS50b0JlKFwiTWFya2Rvd24gV3JpdGVyIChKZWt5bGwpXCIpXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuZ2V0KFwiZGF0ZVwiKSkudG9CZShcIjIwMTUtMDgtMTIgMjM6MTlcIilcblxuICAgIGl0IFwic2V0IGZpZWxkIHZhbHVlXCIsIC0+XG4gICAgICBmcm9udE1hdHRlci5zZXQoXCJ0aXRsZVwiLCBcIk1hcmtkb3duIFdyaXRlclwiKVxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmdldChcInRpdGxlXCIpKS50b0JlKFwiTWFya2Rvd24gV3JpdGVyXCIpXG5cbiAgICBpdCBcIm5vcm1hbGl6ZSBmaWVsZCB0byBhbiBhcnJheVwiLCAtPlxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLm5vcm1hbGl6ZUZpZWxkKFwiZmllbGRcIikpLnRvRXF1YWwoW10pXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIubm9ybWFsaXplRmllbGQoXCJjYXRlZ29yaWVzXCIpKS50b0VxdWFsKFtcIk1hcmtkb3duXCJdKVxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLm5vcm1hbGl6ZUZpZWxkKFwidGFnc1wiKSkudG9FcXVhbChbXCJXcml0ZXJcIiwgXCJKZWt5bGxcIl0pXG5cbiAgICBpdCBcImdldCBjb250ZW50IHRleHQgd2l0aCBsZWFkaW5nIGZlbmNlXCIsIC0+XG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuZ2V0Q29udGVudFRleHQoKSkudG9CZSBcIlwiXCJcbiAgICAgICAgLS0tXG4gICAgICAgIHRpdGxlOiBNYXJrZG93biBXcml0ZXIgKEpla3lsbClcbiAgICAgICAgZGF0ZTogJzIwMTUtMDgtMTIgMjM6MTknXG4gICAgICAgIGNhdGVnb3JpZXM6IE1hcmtkb3duXG4gICAgICAgIHRhZ3M6XG4gICAgICAgICAgLSBXcml0ZXJcbiAgICAgICAgICAtIEpla3lsbFxuICAgICAgICAtLS1cblxuICAgICAgXCJcIlwiXG5cbiAgICBpdCBcInNhdmUgdGhlIGNvbnRlbnQgdG8gZWRpdG9yXCIsIC0+XG4gICAgICBmcm9udE1hdHRlci5zYXZlKClcblxuICAgICAgZXhwZWN0KGVkaXRvci5nZXRUZXh0KCkpLnRvQmUgXCJcIlwiXG4gICAgICAgIC0tLVxuICAgICAgICB0aXRsZTogTWFya2Rvd24gV3JpdGVyIChKZWt5bGwpXG4gICAgICAgIGRhdGU6ICcyMDE1LTA4LTEyIDIzOjE5J1xuICAgICAgICBjYXRlZ29yaWVzOiBNYXJrZG93blxuICAgICAgICB0YWdzOlxuICAgICAgICAgIC0gV3JpdGVyXG4gICAgICAgICAgLSBKZWt5bGxcbiAgICAgICAgLS0tXG5cbiAgICAgICAgc29tZSByYW5kb20gdGV4dCAxXG4gICAgICAgIHNvbWUgcmFuZG9tIHRleHQgMlxuICAgICAgXCJcIlwiXG5cbiAgZGVzY3JpYmUgXCJlZGl0b3Igd2l0aCBoZXhvIGZyb250IG1hdHRlclwiLCAtPlxuICAgIFtlZGl0b3IsIGZyb250TWF0dGVyXSA9IFtdXG5cbiAgICBiZWZvcmVFYWNoIC0+XG4gICAgICBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcbiAgICAgIGVkaXRvci5zZXRUZXh0IFwiXCJcIlxuICAgICAgICB0aXRsZTogTWFya2Rvd24gV3JpdGVyIChIZXhvKVxuICAgICAgICBkYXRlOiAyMDE1LTA4LTEyIDIzOjE5XG4gICAgICAgIC0tLVxuXG4gICAgICAgIHNvbWUgcmFuZG9tIHRleHQgMVxuICAgICAgICBzb21lIHJhbmRvbSB0ZXh0IDJcbiAgICAgIFwiXCJcIlxuICAgICAgZnJvbnRNYXR0ZXIgPSBuZXcgRnJvbnRNYXR0ZXIoZWRpdG9yKVxuXG4gICAgaXQgXCJpcyBub3QgZW1wdHlcIiwgLT5cbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5pc0VtcHR5KS50b0JlKGZhbHNlKVxuXG4gICAgaXQgXCJoYXMgZmllbGQgdGl0bGUvZGF0ZVwiLCAtPlxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmhhcyhcInRpdGxlXCIpKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoZnJvbnRNYXR0ZXIuaGFzKFwiZGF0ZVwiKSkudG9CZSh0cnVlKVxuXG4gICAgaXQgXCJnZXQgZmllbGQgdmFsdWVcIiwgLT5cbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5nZXQoXCJ0aXRsZVwiKSkudG9CZShcIk1hcmtkb3duIFdyaXRlciAoSGV4bylcIilcbiAgICAgIGV4cGVjdChmcm9udE1hdHRlci5nZXQoXCJkYXRlXCIpKS50b0JlKFwiMjAxNS0wOC0xMiAyMzoxOVwiKVxuXG4gICAgaXQgXCJnZXQgY29udGVudCB0ZXh0IHdpdGhvdXQgbGVhZGluZyBmZW5jZVwiLCAtPlxuICAgICAgZXhwZWN0KGZyb250TWF0dGVyLmdldENvbnRlbnRUZXh0KCkpLnRvQmUgXCJcIlwiXG4gICAgICAgIHRpdGxlOiBNYXJrZG93biBXcml0ZXIgKEhleG8pXG4gICAgICAgIGRhdGU6ICcyMDE1LTA4LTEyIDIzOjE5J1xuICAgICAgICAtLS1cblxuICAgICAgXCJcIlwiXG4iXX0=
